<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PantelMed AI - –î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∑–¥–æ—Ä–æ–≤'—è</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            background-color: var(--tg-theme-bg-color, #1a1a1a);
            color: var(--tg-theme-text-color, #ffffff);
            line-height: 1.4;
            font-size: 16px;
        }

        .app {
            max-width: 400px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
        }

        .hidden {
            display: none;
        }

        /* –ö–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥ */
        .back-button {
            position: fixed;
            top: 20px;
            left: 20px;
            width: 40px;
            height: 40px;
            background-color: var(--tg-theme-button-color, #0088cc);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 18px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }

        .back-button:hover {
            background-color: #0077bb;
            transform: scale(1.1);
        }

        .back-button.hidden {
            display: none;
        }

        /* –ì–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é */
        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 8px;
            background: linear-gradient(45deg, #0088cc, #0099ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            color: var(--tg-theme-hint-color, #999);
            font-size: 14px;
        }

        .menu-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        .menu-item {
            background-color: var(--tg-theme-secondary-bg-color, #2d2d2d);
            padding: 20px 15px;
            border-radius: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .menu-item:hover {
            background-color: var(--tg-theme-button-color, #0088cc);
            transform: translateY(-2px);
        }

        .menu-item.disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .menu-icon {
            font-size: 32px;
            display: block;
            margin-bottom: 8px;
        }

        .menu-title {
            font-size: 13px;
            font-weight: 600;
        }

        .coming-soon {
            font-size: 10px;
            color: var(--tg-theme-hint-color, #999);
            display: block;
            margin-top: 4px;
        }

        /* –§–æ—Ä–º–∞ –ø—Ä–æ—Ñ—ñ–ª—é */
        .profile-form {
            background-color: var(--tg-theme-secondary-bg-color, #2d2d2d);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--tg-theme-text-color, #ffffff);
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--tg-theme-button-color, #0088cc);
            border-radius: 8px;
            background-color: var(--tg-theme-bg-color, #1a1a1a);
            color: var(--tg-theme-text-color, #ffffff);
            font-size: 16px;
        }

        /* –¢–µ—Å—Ç */
        .progress-bar {
            background-color: var(--tg-theme-secondary-bg-color, #2d2d2d);
            height: 8px;
            border-radius: 4px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(90deg, #4caf50, #8bc34a);
            height: 100%;
            transition: width 0.3s ease;
        }

        .progress-text {
            text-align: center;
            margin-bottom: 10px;
            font-size: 14px;
            color: var(--tg-theme-hint-color, #999);
        }

        .block-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .block-title {
            font-size: 20px;
            margin-bottom: 8px;
        }

        .block-description {
            color: var(--tg-theme-hint-color, #999);
            font-size: 14px;
        }

        .question-block {
            background-color: var(--tg-theme-secondary-bg-color, #2d2d2d);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
        }

        .question-counter {
            background-color: var(--tg-theme-button-color, #0088cc);
            color: white;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            display: inline-block;
            margin-bottom: 15px;
        }

        .question-text {
            font-size: 16px;
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .answer-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .answer-button {
            background-color: var(--tg-theme-bg-color, #1a1a1a);
            border: 2px solid var(--tg-theme-button-color, #0088cc);
            color: var(--tg-theme-text-color, #ffffff);
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
        }

        .answer-button:hover {
            background-color: var(--tg-theme-button-color, #0088cc);
        }

        .answer-button.selected {
            background-color: var(--tg-theme-button-color, #0088cc);
            border-color: #4caf50;
        }

        .checkbox-option {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background-color: var(--tg-theme-bg-color, #1a1a1a);
            border-radius: 8px;
            cursor: pointer;
        }

        .checkbox-option input[type="checkbox"] {
            width: 18px;
            height: 18px;
        }

        /* –ö–Ω–æ–ø–∫–∏ */
        .continue-button {
            width: 100%;
            background: linear-gradient(45deg, #4caf50, #45a049);
            color: white;
            border: none;
            padding: 16px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        .continue-button:hover {
            transform: translateY(-2px);
        }

        .continue-button:disabled {
            background: #666;
            cursor: not-allowed;
            transform: none;
        }

        .secondary-button {
            background-color: var(--tg-theme-secondary-bg-color, #2d2d2d);
            color: var(--tg-theme-text-color, #ffffff);
            border: 1px solid var(--tg-theme-button-color, #0088cc);
        }

        .back-to-menu {
            width: 100%;
            background-color: var(--tg-theme-secondary-bg-color, #2d2d2d);
            color: var(--tg-theme-text-color, #ffffff);
            border: 1px solid var(--tg-theme-button-color, #0088cc);
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 20px;
        }

        /* –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ */
        .results-container {
            margin-bottom: 30px;
        }

        .user-info {
            background-color: var(--tg-theme-secondary-bg-color, #2d2d2d);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            text-align: center;
        }

        .dominant-card {
            background: linear-gradient(135deg, #4caf50, #45a049);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            margin-bottom: 20px;
        }

        .dominant-emoji {
            font-size: 48px;
            display: block;
            margin-bottom: 10px;
        }

        .score-bar {
            background-color: rgba(255, 255, 255, 0.3);
            height: 8px;
            border-radius: 4px;
            margin: 15px 0;
            overflow: hidden;
        }

        .score-fill {
            height: 100%;
            background-color: white;
            transition: width 0.3s ease;
        }

        .score-fill.good {
            background-color: #4caf50;
        }

        .score-fill.warning {
            background-color: #ff9800;
        }

        .score-fill.danger {
            background-color: #f44336;
        }

        .percentage {
            font-size: 24px;
            font-weight: bold;
        }

        .result-category {
            margin-bottom: 30px;
        }

        .result-category h4 {
            color: var(--tg-theme-button-color, #0088cc);
            margin-bottom: 15px;
            font-size: 18px;
        }

        .result-item {
            background-color: var(--tg-theme-secondary-bg-color, #2d2d2d);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
        }

        .result-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .result-name {
            font-weight: 600;
        }

        .result-percentage {
            font-weight: bold;
            padding: 4px 8px;
            border-radius: 4px;
        }

        .result-percentage.good {
            background-color: #4caf50;
            color: white;
        }

        .result-percentage.warning {
            background-color: #ff9800;
            color: white;
        }

        .result-percentage.danger {
            background-color: #f44336;
            color: white;
        }

        .score-bar-small {
            background-color: var(--tg-theme-bg-color, #1a1a1a);
            height: 6px;
            border-radius: 3px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        /* Selling texts */
        .selling-text {
            background-color: var(--tg-theme-bg-color, #1a1a1a);
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
            border-left: 4px solid #ff6b6b;
        }

        .selling-text h5 {
            color: #ff6b6b;
            margin: 0 0 10px 0;
            font-size: 14px;
        }

        .selling-text p {
            margin: 0 0 10px 0;
            font-size: 13px;
            line-height: 1.4;
            color: var(--tg-theme-text-color, #ffffff);
        }

        .basic-practices {
            margin: 10px 0;
        }

        .basic-practices strong {
            display: block;
            margin-bottom: 5px;
            color: var(--tg-theme-text-color, #ffffff);
            font-size: 12px;
        }

        .basic-practices ul {
            margin: 0;
            padding-left: 15px;
            color: var(--tg-theme-hint-color, #999);
        }

        .basic-practices li {
            margin-bottom: 3px;
            font-size: 12px;
        }

        .upgrade-cta {
            background: linear-gradient(135deg, #1e3c72, #2a5298);
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            text-align: center;
        }

        .upgrade-cta p {
            color: white;
            margin: 0 0 10px 0;
            font-size: 14px;
        }

        .upgrade-cta-btn {
            background: linear-gradient(45deg, #ff6b6b, #ee5a52);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 13px;
            cursor: pointer;
            font-weight: 600;
        }

        /* Processing animation */
        .processing-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .processing-overlay.visible {
            opacity: 1;
        }

        .processing-card {
            background-color: var(--tg-theme-secondary-bg-color, #2d2d2d);
            padding: 30px;
            border-radius: 16px;
            text-align: center;
            max-width: 300px;
        }

        .processing-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid var(--tg-theme-button-color, #0088cc);
            border-top: 4px solid transparent;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .processing-text {
            font-size: 16px;
            margin-bottom: 15px;
            color: var(--tg-theme-text-color, #ffffff);
        }

        .processing-dots {
            display: flex;
            justify-content: center;
            gap: 5px;
        }

        .processing-dots span {
            width: 8px;
            height: 8px;
            background-color: var(--tg-theme-button-color, #0088cc);
            border-radius: 50%;
            animation: bounce 1.4s ease-in-out infinite both;
        }

        .processing-dots span:nth-child(1) { animation-delay: -0.32s; }
        .processing-dots span:nth-child(2) { animation-delay: -0.16s; }

        @keyframes bounce {
            0%, 80%, 100% { 
                transform: scale(0);
            } 40% { 
                transform: scale(1);
            }
        }

        /* –î—ñ—î—Ç–∏ */
        .diet-menu {
            background-color: var(--tg-theme-secondary-bg-color, #2d2d2d);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
        }

        .diet-card {
            background-color: var(--tg-theme-bg-color, #1a1a1a);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            border-left: 4px solid #4caf50;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .diet-card:hover {
            transform: translateX(5px);
            border-left-color: #2196f3;
        }

        .diet-card h4 {
            margin: 0 0 8px 0;
            color: var(--tg-theme-text-color, #ffffff);
            font-size: 16px;
        }

        .diet-card p {
            margin: 0 0 10px 0;
            color: var(--tg-theme-hint-color, #999);
            font-size: 14px;
        }

        .diet-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }

        .diet-tag {
            background-color: var(--tg-theme-button-color, #0088cc);
            color: white;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 11px;
        }

        .diet-card.featured {
            border-left-color: #ff6b6b;
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.1), rgba(238, 90, 82, 0.05));
        }

        /* –ö—É—Ä—Å–∏ */
        .course-grid {
            display: grid;
            gap: 15px;
            margin: 20px 0;
        }

        .course-card {
            background-color: var(--tg-theme-secondary-bg-color, #2d2d2d);
            padding: 20px;
            border-radius: 12px;
            border-left: 4px solid #ff9800;
        }

        .course-card h4 {
            color: #ff9800;
            margin-bottom: 10px;
        }

        .course-card ul {
            padding-left: 20px;
            margin-bottom: 15px;
        }

        .course-card li {
            margin-bottom: 5px;
            font-size: 14px;
        }

        .course-price {
            font-weight: bold;
            color: #4caf50;
            font-size: 18px;
        }

        /* Responsive */
        @media (max-width: 480px) {
            .app {
                padding: 10px;
            }
            
            .menu-grid {
                grid-template-columns: 1fr;
                gap: 10px;
            }
            
            .answer-options {
                flex-direction: column;
            }
            
            .answer-button {
                min-width: auto;
            }

            .back-button {
                top: 10px;
                left: 10px;
                width: 35px;
                height: 35px;
                font-size: 16px;
            }
        }
    </style>
</head>
<body>
    <div class="app">
        <!-- –ö–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥ -->
        <button id="backButton" class="back-button hidden" onclick="goBack()">
            ‚Üê
        </button>

        <!-- –ì–æ–ª–æ–≤–Ω–µ –º–µ–Ω—é -->
        <div id="menu-screen" class="screen">
            <div class="header">
                <h1>üß¨ PantelMed AI</h1>
                <p>–†–æ–∑—É–º–Ω–∞ –º–µ–¥–∏—á–Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –≤ Telegram</p>
            </div>

            <div class="menu-grid">
                <div class="menu-item" onclick="handleMenuClick('test')">
                    <span class="menu-icon">üß¨</span>
                    <span class="menu-title">–ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç</span>
                </div>

                <div class="menu-item" onclick="handleMenuClick('cabinet')">
                    <span class="menu-icon">üë§</span>
                    <span class="menu-title">–ú—ñ–π –∫–∞–±—ñ–Ω–µ—Ç</span>
                </div>

                <div class="menu-item" onclick="handleMenuClick('diet')">
                    <span class="menu-icon">ü•ó</span>
                    <span class="menu-title">–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞ –¥—ñ—î—Ç–∞</span>
                </div>

                <div class="menu-item" onclick="handleMenuClick('pharma')">
                    <span class="menu-icon">üíäüíâ</span>
                    <span class="menu-title">–§–∞—Ä–º–∞–∫–æ–ª–æ–≥—ñ—è</span>
                </div>

                <div class="menu-item" onclick="handleMenuClick('consultation')">
                    <span class="menu-icon">üë®‚Äç‚öïÔ∏è</span>
                    <span class="menu-title">–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—è</span>
                </div>

                <div class="menu-item" onclick="handleMenuClick('interpretation')">
                    <span class="menu-icon">üìä</span>
                    <span class="menu-title">–Ü–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü—ñ—è –∞–Ω–∞–ª—ñ–∑—ñ–≤</span>
                </div>
            </div>
        </div>

        <!-- –ï–∫—Ä–∞–Ω –ø—Ä–æ—Ñ—ñ–ª—é -->
        <div id="profile-screen" class="screen hidden">
            <div class="header">
                <h2>üë§ –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ</h2>
                <p>–î–ª—è —Ç–æ—á–Ω–æ—ó –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø–æ—Ç—Ä—ñ–±–Ω—ñ –≤–∞—à—ñ –¥–∞–Ω—ñ</p>
            </div>

            <div class="profile-form">
                <div class="form-group">
                    <label for="userName">–Ü–º'—è:</label>
                    <input type="text" id="userName" placeholder="–í–≤–µ–¥—ñ—Ç—å –≤–∞—à–µ —ñ–º'—è">
                </div>

                <div class="form-group">
                    <label for="userAge">–í—ñ–∫:</label>
                    <select id="userAge">
                        <option value="">–û–±–µ—Ä—ñ—Ç—å –≤—ñ–∫</option>
                        <option value="18-25">18-25 —Ä–æ–∫—ñ–≤</option>
                        <option value="26-35">26-35 —Ä–æ–∫—ñ–≤</option>
                        <option value="36-45">36-45 —Ä–æ–∫—ñ–≤</option>
                        <option value="46-55">46-55 —Ä–æ–∫—ñ–≤</option>
                        <option value="56+">56+ —Ä–æ–∫—ñ–≤</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="userGender">–°—Ç–∞—Ç—å:</label>
                    <select id="userGender">
                        <option value="">–û–±–µ—Ä—ñ—Ç—å —Å—Ç–∞—Ç—å</option>
                        <option value="male">–ß–æ–ª–æ–≤—ñ–∫</option>
                        <option value="female">–ñ—ñ–Ω–∫–∞</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="userBodyType">–°—Ç–∞—Ç—É—Ä–∞:</label>
                    <select id="userBodyType">
                        <option value="">–û–±–µ—Ä—ñ—Ç—å —Å—Ç–∞—Ç—É—Ä—É</option>
                        <option value="thin">–•—É–¥–∞</option>
                        <option value="normal">–ù–æ—Ä–º–∞–ª—å–Ω–∞</option>
                        <option value="athletic">–°–ø–æ—Ä—Ç–∏–≤–Ω–∞</option>
                        <option value="overweight">–ü–æ–≤–Ω–∞</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="userHeight">–ó—Ä—ñ—Å—Ç (—Å–º):</label>
                    <input type="number" id="userHeight" placeholder="170" min="100" max="250">
                </div>

                <div class="form-group">
                    <label for="userWeight">–í–∞–≥–∞ (–∫–≥):</label>
                    <input type="number" id="userWeight" placeholder="70" min="30" max="200">
                </div>
            </div>

            <button class="continue-button" onclick="startTestQuestions()" disabled>
                –ü–æ—á–∞—Ç–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è üöÄ
            </button>
        </div>

        <!-- –ï–∫—Ä–∞–Ω —Ç–µ—Å—Ç—É -->
        <div id="test-screen" class="screen hidden">
            <div class="progress-bar">
                <div id="progressFill" class="progress-fill"></div>
            </div>
            <div id="progressText" class="progress-text"></div>

            <div class="block-header">
                <h2 id="blockTitle"></h2>
                <p id="blockDescription"></p>
            </div>

            <div id="questionsContainer"></div>

            <button id="nextButton" class="continue-button" onclick="nextBlockWithProcessing()" disabled>
                –î–∞–ª—ñ ‚û°Ô∏è
            </button>
        </div>

        <!-- –ï–∫—Ä–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ -->
        <div id="results-screen" class="screen hidden">
            <div class="header">
                <h2>üìä –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏</h2>
            </div>

            <div id="userInfoResults" class="user-info"></div>
            <div id="dominantResult"></div>
            <div id="allResults" class="results-container"></div>
            <div id="upgradeSection"></div>

            <button onclick="backToMenu()" class="back-to-menu">
                üè† –ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ –º–µ–Ω—é
            </button>
        </div>
    </div>

    <script>
        // Telegram WebApp —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è
        const tg = window.Telegram?.WebApp;
        if (tg) {
            tg.expand();
            tg.ready();
        }

        // –ì–ª–æ–±–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ
        let currentScreen = 'menu';
        let currentBlock = 0;
        let answers = {};
        let userProfile = {};
        let userTestResults = null;
        let testCompletionDate = null;
        let navigationHistory = [];

        // –ë–ª–æ–∫–∏ –∑–¥–æ—Ä–æ–≤'—è
        const healthBlocks = {
            serotonin: {
                name: '–°–µ—Ä–æ—Ç–æ–Ω—ñ–Ω',
                emoji: 'üòå',
                title: 'üòå –°–ï–†–û–¢–û–ù–Ü–ù - –≥–æ—Ä–º–æ–Ω —â–∞—Å—Ç—è',
                description: '—Ä—ñ–≤–µ–Ω—å —Å–µ—Ä–æ—Ç–æ–Ω—ñ–Ω—É –≤–ø–ª–∏–≤–∞—î –Ω–∞ –Ω–∞—Å—Ç—Ä—ñ–π, —Å–æ–Ω —Ç–∞ –∑–∞–≥–∞–ª—å–Ω–µ —Å–∞–º–æ–ø–æ—á—É—Ç—Ç—è',
                type: 'neurotransmitter',
                questions: [
                    { id: 'ser_1', text: '–ß–∏ —á–∞—Å—Ç–æ –≤—ñ–¥—á—É–≤–∞—î—Ç–µ –ø—Ä–∏–≥–Ω—ñ—á–µ–Ω—ñ—Å—Ç—å –∞–±–æ —Å—É–º –±–µ–∑ –≤–∏–¥–∏–º–∏—Ö –ø—Ä–∏—á–∏–Ω?' },
                    { id: 'ser_2', text: '–ß–∏ –≤–∞–∂–∫–æ –≤–∞–º –∑–∞—Å–Ω—É—Ç–∏ –∞–±–æ –≤–∏ –ø—Ä–æ–∫–∏–¥–∞—î—Ç–µ—Å—å –≤–Ω–æ—á—ñ?' },
                    { id: 'ser_3', text: '–ß–∏ –≤—ñ–¥—á—É–≤–∞—î—Ç–µ —Ç—Ä–∏–≤–æ–≥—É –≤ –ø–æ–≤—Å—è–∫–¥–µ–Ω–Ω–∏—Ö —Å–∏—Ç—É–∞—Ü—ñ—è—Ö?' },
                    { id: 'ser_4', text: '–ß–∏ –º–∞—î—Ç–µ —Å–∏–ª—å–Ω—É —Ç—è–≥—É –¥–æ —Å–æ–ª–æ–¥–∫–æ–≥–æ –∞–±–æ –≤—É–≥–ª–µ–≤–æ–¥—ñ–≤?' },
                    { id: 'ser_5', text: '–ß–∏ –≤—Ç—Ä–∞—Ç–∏–ª–∏ —ñ–Ω—Ç–µ—Ä–µ—Å –¥–æ –∑–∞–Ω—è—Ç—å, —è–∫—ñ —Ä–∞–Ω—ñ—à–µ –ø—Ä–∏–Ω–æ—Å–∏–ª–∏ –∑–∞–¥–æ–≤–æ–ª–µ–Ω–Ω—è?' }
                ],
                recommendations: [
                    "–¢—Ä–∏–ø—Ç–æ—Ñ–∞–Ω 500-1000 –º–≥ –ø–µ—Ä–µ–¥ —Å–Ω–æ–º",
                    "–í—ñ—Ç–∞–º—ñ–Ω D3 4000-6000 –ú–û —â–æ–¥–Ω—è (–æ—Å–æ–±–ª–∏–≤–æ –≤–∑–∏–º–∫—É)",
                    "–ú–∞–≥–Ω—ñ–π –≥–ª–∏—Ü–∏–Ω–∞—Ç 400-600 –º–≥ –≤–≤–µ—á–µ—Ä—ñ",
                    "–û–±–º–µ–∂–∏—Ç–∏ –∫–æ—Ñ–µ—ó–Ω –ø—ñ—Å–ª—è 14:00",
                    "–†–∞–Ω–∫–æ–≤–µ —Å–æ–Ω—Ü–µ 15-20 —Ö–≤–∏–ª–∏–Ω —â–æ–¥–Ω—è"
                ]
            },
            dopamine: {
                name: '–î–æ—Ñ–∞–º—ñ–Ω',
                emoji: 'üéØ',
                title: 'üéØ –î–û–§–ê–ú–Ü–ù - –º–æ—Ç–∏–≤–∞—Ü—ñ—è —Ç–∞ –≤–∏–Ω–∞–≥–æ—Ä–æ–¥–∞',
                description: '–¥–æ—Ñ–∞–º—ñ–Ω –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ –º–æ—Ç–∏–≤–∞—Ü—ñ—é, –µ–Ω–µ—Ä–≥—ñ—é —Ç–∞ –≤—ñ–¥—á—É—Ç—Ç—è –∑–∞–¥–æ–≤–æ–ª–µ–Ω–Ω—è',
                type: 'neurotransmitter',
                questions: [
                    { id: 'dop_1', text: '–ß–∏ –≤—ñ–¥—á—É–≤–∞—î—Ç–µ –±—Ä–∞–∫ –º–æ—Ç–∏–≤–∞—Ü—ñ—ó –∞–±–æ –µ–Ω–µ—Ä–≥—ñ—ó –¥–ª—è –ø–æ–≤—Å—è–∫–¥–µ–Ω–Ω–∏—Ö –∑–∞–≤–¥–∞–Ω—å?' },
                    { id: 'dop_2', text: '–ß–∏ –≤–∞–∂–∫–æ –≤–∞–º –∑–æ—Å–µ—Ä–µ–¥–∏—Ç–∏—Å—è –Ω–∞ —Ä–æ–±–æ—Ç—ñ –∞–±–æ –Ω–∞–≤—á–∞–Ω–Ω—ñ?' },
                    { id: 'dop_3', text: '–ß–∏ —à—É–∫–∞—î—Ç–µ –ø–æ—Å—Ç—ñ–π–Ω—É —Å—Ç–∏–º—É–ª—è—Ü—ñ—é (—Å–æ—Ü–º–µ—Ä–µ–∂—ñ, –≤—ñ–¥–µ–æ, —ó–∂–∞)?' },
                    { id: 'dop_4', text: '–ß–∏ –≤—ñ–¥—á—É–≤–∞—î—Ç–µ, —â–æ –≤—Ç—Ä–∞—Ç–∏–ª–∏ –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å —Ä–∞–¥—ñ—Ç–∏ –ø—Ä–æ—Å—Ç–∏–º —Ä–µ—á–∞–º?' },
                    { id: 'dop_5', text: '–ß–∏ —á–∞—Å—Ç–æ –≤—ñ–¥–∫–ª–∞–¥–∞—î—Ç–µ –≤–∞–∂–ª–∏–≤—ñ —Å–ø—Ä–∞–≤–∏ –Ω–∞ –ø–æ—Ç—ñ–º?' }
                ],
                recommendations: [
                    "L-—Ç–∏—Ä–æ–∑–∏–Ω 500-1000 –º–≥ –≤—Ä–∞–Ω—Ü—ñ –Ω–∞—Ç—â–µ—Å–µ—Ä—Ü–µ",
                    "–§–æ–ª—ñ—î–≤–∞ –∫–∏—Å–ª–æ—Ç–∞ 800 –º–∫–≥ + B12 500 –º–∫–≥",
                    "–û–±–º–µ–∂–µ–Ω–Ω—è —à–≤–∏–¥–∫–∏—Ö –∑–∞–¥–æ–≤–æ–ª–µ–Ω—å (TikTok, —Å–æ–ª–æ–¥–∫–µ)",
                    "–§—ñ–∑–∏—á–Ω—ñ –≤–ø—Ä–∞–≤–∏ 20-30 —Ö–≤ —â–æ–¥–Ω—è",
                    "–•–æ–ª–æ–¥–Ω–∏–π –¥—É—à –∞–±–æ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω—ñ –ø—Ä–æ—Ü–µ–¥—É—Ä–∏"
                ]
            },
            digestive_system: {
                name: '–®–ª—É–Ω–∫–æ–≤–æ-–∫–∏—à–∫–æ–≤–∏–π —Ç—Ä–∞–∫—Ç',
                emoji: 'üçΩÔ∏è',
                title: 'üçΩÔ∏è –®–ö–¢ - "–¥—Ä—É–≥–∏–π –º–æ–∑–æ–∫"',
                description: '—à–ª—É–Ω–∫–æ–≤–æ-–∫–∏—à–∫–æ–≤–∏–π —Ç—Ä–∞–∫—Ç –≤–∏—Ä–æ–±–ª—è—î 80% —Å–µ—Ä–æ—Ç–æ–Ω—ñ–Ω—É',
                type: 'system',
                questions: [
                    { id: 'dig_1', text: '–ß–∏ –º–∞—î—Ç–µ –ø—Ä–æ–±–ª–µ–º–∏ –∑ —Ç—Ä–∞–≤–ª–µ–Ω–Ω—è–º (–∑–¥—É—Ç—Ç—è, –≥–∞–∑–∏, –¥–∏—Å–∫–æ–º—Ñ–æ—Ä—Ç)?' },
                    { id: 'dig_2', text: '–ß–∏ –Ω–µ—Ä–µ–≥—É–ª—è—Ä–Ω–∏–π —Å—Ç—ñ–ª–µ—Ü—å (–∑–∞–ø–æ—Ä–∏ –∞–±–æ –¥—ñ–∞—Ä–µ—è)?' },
                    { id: 'dig_3', text: '–ß–∏ –≤—ñ–¥—á—É–≤–∞—î—Ç–µ –ø–µ—á—ñ—é –∞–±–æ –∫–∏—Å–ª–æ—Ç–Ω—ñ—Å—Ç—å?' },
                    { id: 'dig_4', text: '–ß–∏ –º–∞—î—Ç–µ –ø–∏—â–µ–≤—É—é –Ω–µ–ø–µ—Ä–µ–Ω–æ—Å–∏–º—ñ—Å—Ç—å –∞–±–æ –∞–ª–µ—Ä–≥—ñ—ó?' },
                    { id: 'dig_5', text: '–ß–∏ —á–∞—Å—Ç–æ –ø—Ä–∏–π–º–∞–ª–∏ –∞–Ω—Ç–∏–±—ñ–æ—Ç–∏–∫–∏ –æ—Å—Ç–∞–Ω–Ω—ñ–º —á–∞—Å–æ–º?' }
                ],
                recommendations: [
                    "–ü—Ä–æ–±—ñ–æ—Ç–∏–∫–∏ 10-50 –º–ª—Ä–¥ –ö–£–û",
                    "–§–µ—Ä–º–µ–Ω—Ç–∏ –∑ —ó–∂–µ—é",
                    "L-–≥–ª—É—Ç–∞–º—ñ–Ω –¥–ª—è –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–ª–∏–∑–æ–≤–æ—ó",
                    "–í–∏–∫–ª—é—á–µ–Ω–Ω—è –≥–ª—é—Ç–µ–Ω—É –Ω–∞ 2-4 —Ç–∏–∂–Ω—ñ",
                    "–á–∂–∞ –ø–æ —Ä–µ–∂–∏–º—É (–±–µ–∑ –ø–µ—Ä–µ–∫—É—Å—ñ–≤)"
                ]
            },
            rectal_parasites: {
                name: '–ó–∞–¥–Ω—ñ–π –ø—Ä–æ—Ö—ñ–¥ —Ç–∞ –≥–µ–ª—å–º—ñ–Ω—Ç–∏',
                emoji: 'üßª',
                title: 'üßª –ó–ê–î–ù–Ü–ô –ü–†–û–•–Ü–î –¢–ê –ì–ï–õ–¨–ú–Ü–ù–¢–ò - —ñ–Ω—Ç–∏–º–Ω–µ –∑–¥–æ—Ä–æ–≤\'—è',
                description: '—Å—Ç–∞–Ω –∑–∞–¥–Ω—å–æ–≥–æ –ø—Ä–æ—Ö–æ–¥—É —Ç–∞ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –ø–∞—Ä–∞–∑–∏—Ç—ñ–≤ –≤–ø–ª–∏–≤–∞—é—Ç—å –Ω–∞ –∑–∞–≥–∞–ª—å–Ω–µ –∑–¥–æ—Ä–æ–≤\'—è',
                type: 'medical',
                questions: [
                    { 
                        id: 'rec_1', 
                        text: '–ß–∏ –ø—Ä–æ–≤–æ–¥–∏—Ç–µ –≤–∏ —á–∞—Å —ñ–∑ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º —É —Ä—É–∫–∞—Ö, —Å–∏–¥—è—á–∏ –≤ —Ç—É–∞–ª–µ—Ç—ñ?',
                        type: 'multiple_choice',
                        options: [
                            { text: '–¢–∞–∫', score: 0 },
                            { text: '–Ü–Ω–∫–æ–ª–∏', score: 1 },
                            { text: '–ù—ñ', score: 2 }
                        ]
                    },
                    { 
                        id: 'rec_2', 
                        text: '–ß–∏ –¥–æ–≤–æ–¥–∏—Ç—å—Å—è –≤–∞–º —Ç—É–∂–∏—Ç–∏—Å—å –ø–µ—Ä–µ–¥ –ø–æ—á–∞—Ç–∫–æ–º –¥–µ—Ñ–µ–∫–∞—Ü—ñ—ó?',
                        type: 'multiple_choice',
                        options: [
                            { text: '–ß–∞—Å—Ç–æ', score: 0 },
                            { text: '–Ü–Ω–∫–æ–ª–∏', score: 1 },
                            { text: '–ù—ñ', score: 2 }
                        ]
                    },
                    { id: 'rec_3', text: '–ß–∏ –≤—ñ–¥—á—É–≤–∞—î—Ç–µ –≤–∏ –±—ñ–ª—å —É –¥—ñ–ª—è–Ω—Ü—ñ –∑–∞–¥–Ω—å–æ–≥–æ –ø—Ä–æ—Ö–æ–¥—É —É –∑–≤–∏—á–∞–π–Ω–æ–º—É –∂–∏—Ç—Ç—ñ –∞–±–æ –ø—Ä–∏ —Ö–æ–¥—å–±—ñ?' },
                    { id: 'rec_4', text: '–ß–∏ —î —É –≤–∞—Å –±—ñ–ª—å –ø—ñ–¥ —á–∞—Å –∞–±–æ –ø—ñ—Å–ª—è –¥–µ—Ñ–µ–∫–∞—Ü—ñ—ó?' },
                    { id: 'rec_5', text: '–ß–∏ –º–∞—î—Ç–µ –≤–∏ –¥–æ–º–∞—à–Ω—ñ—Ö —Ç–≤–∞—Ä–∏–Ω?' },
                    { id: 'rec_6', text: '–ß–∏ –∫–æ–Ω—Ç–∞–∫—Ç—É—î—Ç–µ –∑ –≤—É–ª–∏—á–Ω–∏–º–∏ —Ç–≤–∞—Ä–∏–Ω–∞–º–∏ (–≥–ª–∞–¥–∏—Ç–µ, –ø—ñ–¥–≥–æ–¥–æ–≤—É—î—Ç–µ)?' },
                    { id: 'rec_7', text: '–ß–∏ –º–∏—î—Ç–µ –≤–∏ –æ–≤–æ—á—ñ —Ç–∞ —Ñ—Ä—É–∫—Ç–∏ –ø–µ—Ä–µ–¥ —Å–ø–æ–∂–∏–≤–∞–Ω–Ω—è–º?' },
                    { id: 'rec_8', text: '–ß–∏ –ø—Ä–æ—Ç–∏—Ä–∞—î—Ç–µ –≤–∏ —Å–≤—ñ–π —Ç–µ–ª–µ—Ñ–æ–Ω –∞–Ω—Ç–∏—Å–µ–ø—Ç–∏–∫–æ–º –∞–±–æ –≤–æ–ª–æ–≥–∏–º–∏ —Å–µ—Ä–≤–µ—Ç–∫–∞–º–∏ —Ö–æ—á–∞ –± —Ä–∞–∑ –Ω–∞ –¥–æ–±—É?' }
                ],
                recommendations: [
                    "–ü–µ—Ä–µ–π—Ç–∏ –∑ —Ç—É–∞–ª–µ—Ç–Ω–æ–≥–æ –ø–∞–ø–µ—Ä—É –Ω–∞ –±—ñ–¥–µ –∑ –ø—Ä–æ—Ö–æ–ª–æ–¥–Ω–æ—é –≤–æ–¥–æ—é",
                    "–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—è –ø—Ä–æ–∫—Ç–æ–ª–æ–≥–∞ –ø—Ä–∏ –±–æ–ª—è—Ö",
                    "–°–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ –≤–ø—Ä–∞–≤–∏ —Ç–∞–∑–æ–º (—Ç–∏–ø—É –ö–µ–≥–µ–ª—è)",
                    "–ö—É—Ä—Å –ø—Ä–æ—Ç–∏–ø–∞—Ä–∞–∑–∏—Ç–∞—Ä–Ω–æ—ó –ø—Ä–æ–≥—Ä–∞–º–∏: –º–∞—Å–ª–æ –≥–∞—Ä–±—É–∑–æ–≤–æ–≥–æ –Ω–∞—Å—ñ–Ω–Ω—è",
                    "–î–µ–∑—ñ–Ω—Ñ–µ–∫—Ü—ñ—è —Ç–µ–ª–µ—Ñ–æ–Ω—É —â–æ–≤–µ—á–æ—Ä–∞"
                ]
            },
            activity: {
                name: '–†—ñ–≤–µ–Ω—å —â–æ–¥–µ–Ω–Ω–æ—ó –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ',
                emoji: 'üö∂‚Äç‚ôÇÔ∏è',
                title: 'üö∂‚Äç‚ôÇÔ∏è –ê–ö–¢–ò–í–ù–Ü–°–¢–¨ - —Ä—É—Ö —Ü–µ –∂–∏—Ç—Ç—è',
                description: '—Ñ—ñ–∑–∏—á–Ω–∞ –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –≤–ø–ª–∏–≤–∞—î –Ω–∞ –≤—Å—ñ —Å–∏—Å—Ç–µ–º–∏ –æ—Ä–≥–∞–Ω—ñ–∑–º—É',
                type: 'lifestyle',
                questions: [
                    { 
                        id: 'act_1', 
                        text: '–°–∫—ñ–ª—å–∫–∏ –≤–∏ –∑–∞–∑–≤–∏—á–∞–π –ø—Ä–æ—Ö–æ–¥–∏—Ç–µ –∫—Ä–æ–∫—ñ–≤ –Ω–∞ –¥–µ–Ω—å?',
                        type: 'multiple_choice',
                        options: [
                            { text: '–ú–µ–Ω—à–µ 1 000 –∫—Ä–æ–∫—ñ–≤ (—Å–∏–¥—è—á–∏–π —Å–ø–æ—Å—ñ–± –∂–∏—Ç—Ç—è)', score: 0 },
                            { text: '–í—ñ–¥ 1 000 –¥–æ 5 000 –∫—Ä–æ–∫—ñ–≤ (–ª–µ–≥–∫–∞ –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å)', score: 1 },
                            { text: '–í—ñ–¥ 5 000 –¥–æ 10 000 —ñ –±—ñ–ª—å—à–µ (–∞–∫—Ç–∏–≤–Ω–∏–π —Å–ø–æ—Å—ñ–± –∂–∏—Ç—Ç—è)', score: 2 }
                        ]
                    },
                    { 
                        id: 'act_2', 
                        text: '–°–∫—ñ–ª—å–∫–∏ –≥–æ–¥–∏–Ω –Ω–∞ –¥–µ–Ω—å –≤–∏ –ø—Ä–æ–≤–æ–¥–∏—Ç–µ –≤ —Å–∏–¥—è—á–æ–º—É –ø–æ–ª–æ–∂–µ–Ω–Ω—ñ?',
                        type: 'multiple_choice',
                        options: [
                            { text: '2-4 –≥–æ–¥–∏–Ω–∏ (–Ω–æ—Ä–º–∞)', score: 2 },
                            { text: '5-7 –≥–æ–¥–∏–Ω (—Å–µ—Ä–µ–¥–Ω—å–æ)', score: 1 },
                            { text: '8+ –≥–æ–¥–∏–Ω (–∫—Ä–∏—Ç–∏—á–Ω–æ)', score: 0 }
                        ]
                    },
                    { id: 'act_3', text: '–ß–∏ –∑–∞–π–º–∞—î—Ç–µ—Å—å –≤–∏ —Ä–µ–≥—É–ª—è—Ä–Ω–∏–º–∏ —Ñ—ñ–∑–∏—á–Ω–∏–º–∏ –≤–ø—Ä–∞–≤–∞–º–∏?' },
                    { id: 'act_4', text: '–ß–∏ –≤—ñ–¥—á—É–≤–∞—î—Ç–µ –≤–∏ –∑–∞–¥–∏—à–∫—É –ø—Ä–∏ –ø—ñ–¥–π–æ–º—ñ –Ω–∞ 2-3 –ø–æ–≤–µ—Ä—Ö?' },
                    { id: 'act_5', text: '–ß–∏ –∫–æ—Ä–∏—Å—Ç—É—î—Ç–µ—Å—å –≤–∏ –ª—ñ—Ñ—Ç–æ–º –∑–∞–º—ñ—Å—Ç—å —Å—Ö–æ–¥—ñ–≤?' }
                ],
                recommendations: [
                    "–ú—ñ–Ω—ñ–º—É–º 8 000 –∫—Ä–æ–∫—ñ–≤/–¥–µ–Ω—å –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –∑–¥–æ—Ä–æ–≤'—è",
                    "–ü–µ—Ä–µ—Ä–≤–∏ –∫–æ–∂–Ω—ñ 45 —Ö–≤–∏–ª–∏–Ω –ø—Ä–∏ —Å–∏–¥—è—á—ñ–π —Ä–æ–±–æ—Ç—ñ",
                    "–°–∏–ª–æ–≤—ñ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è 2‚Äì3 —Ä–∞–∑–∏ –Ω–∞ —Ç–∏–∂–¥–µ–Ω—å",
                    "–ê–∫—Ç–∏–≤–Ω–∞ —Ö–æ–¥—å–±–∞/–ª–µ–≥–∫–∏–π –±—ñ–≥ ‚Äî 3‚Äì4 —Ä–∞–∑–∏ –Ω–∞ —Ç–∏–∂–¥–µ–Ω—å",
                    "–ü—Ä–∏ —Ç—Ä–∏–≤–∞–ª–æ–º—É —Å–∏–¥—ñ–Ω–Ω—ñ: —Ä–∏–∑–∏–∫ –ø—Ä–æ—Å—Ç–∞—Ç–∏—Ç—É, –≥–µ–º–æ—Ä–æ—é, ‚Üì—Ç–µ—Å—Ç–æ—Å—Ç–µ—Ä–æ–Ω"
                ]
            },
            nutrition: {
                name: '–ë–∞–∑–æ–≤–µ —Ö–∞—Ä—á—É–≤–∞–Ω–Ω—è',
                emoji: 'üçé',
                title: 'üçé –•–ê–†–ß–£–í–ê–ù–ù–Ø - –æ—Å–Ω–æ–≤–∞ –∑–¥–æ—Ä–æ–≤\'—è',
                description: '—è–∫—ñ—Å—Ç—å —Ö–∞—Ä—á—É–≤–∞–Ω–Ω—è –≤–∏–∑–Ω–∞—á–∞—î –µ–Ω–µ—Ä–≥—ñ—é, –Ω–∞—Å—Ç—Ä—ñ–π —Ç–∞ –¥–æ–≤–≥–æ–ª—ñ—Ç—Ç—è',
                type: 'lifestyle',
                questions: [
                    { 
                        id: 'nut_1', 
                        text: '–Ø–∫ —á–∞—Å—Ç–æ –≤–∏ —Å–ø–æ–∂–∏–≤–∞—î—Ç–µ –±—ñ–ª–æ–∫ (–º\'—è—Å–æ, —è–π—Ü—è, –º–æ–ª–æ—á–∫–∞, —Ä–∏–±–∞)?',
                        type: 'multiple_choice',
                        options: [
                            { text: '–î–µ–∫—ñ–ª—å–∫–∞ —Ä–∞–∑—ñ–≤ –Ω–∞ –¥–µ–Ω—å (–º\'—è—Å–æ, —è–π—Ü—è, –º–æ–ª–æ—á–∫–∞, —Ä–∏–±–∞)', score: 2 },
                            { text: '1 —Ä–∞–∑ –Ω–∞ –¥–µ–Ω—å', score: 1 },
                            { text: '–†—ñ–¥–∫–æ (–º–µ–Ω—à–µ 4 —Ä–∞–∑—ñ–≤ –Ω–∞ —Ç–∏–∂–¥–µ–Ω—å)', score: 0 }
                        ]
                    },
                    { 
                        id: 'nut_3', 
                        text: '–Ø–∫ —á–∞—Å—Ç–æ –≤–∏ —ó—Å—Ç–µ —Å–æ–ª–æ–¥–∫–µ / –¥–æ–¥–∞–Ω–∏–π —Ü—É–∫–æ—Ä (–ø–µ—á–∏–≤–æ, —Ü—É–∫–µ—Ä–∫–∏, –¥–µ—Å–µ—Ä—Ç–∏)?',
                        type: 'multiple_choice',
                        options: [
                            { text: '–ù–µ —ó–º', score: 2 },
                            { text: '–Ü–Ω–∫–æ–ª–∏', score: 1 },
                            { text: '–©–æ–¥–Ω—è / –∫—ñ–ª—å–∫–∞ —Ä–∞–∑—ñ–≤ –Ω–∞ –¥–µ–Ω—å', score: 0 }
                        ]
                    }
                ],
                recommendations: [
                    "–ë—ñ–ª–æ–∫: 1,2‚Äì2 –≥ –Ω–∞ 1 –∫–≥ –º–∞—Å–∏ —Ç—ñ–ª–∞",
                    "–¶—É–∫—Ä–æ–∑–∞–º—ñ–Ω–Ω–∏–∫–∏: —Å—Ç–µ–≤—ñ—è, –µ—Ä–∏—Ç—Ä–∏—Ç, –∞–ª–µ –∫—Ä–∞—â–µ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ –º–µ–¥",
                    "–°–Ω—ñ–¥–∞–Ω–æ–∫: –±—ñ–ª–æ–∫ + –∫–æ—Ä–∏—Å–Ω—ñ –∂–∏—Ä–∏ ‚Üí —Å—Ç–∞–±—ñ–ª—ñ–∑–∞—Ü—ñ—è —ñ–Ω—Å—É–ª—ñ–Ω—É –∑—Ä–∞–Ω–∫—É",
                    "–ü–∏—Ç–Ω–∞ –≤–æ–¥–∞: –º—ñ–Ω—ñ–º—É–º 30 –º–ª / –∫–≥ –º–∞—Å–∏ —Ç—ñ–ª–∞"
                ]
            },
            chronic: {
                name: '–•—Ä–æ–Ω—ñ—á–Ω—ñ —Ö–≤–æ—Ä–æ–±–∏',
                emoji: 'üè•',
                title: 'üè• –•–†–û–ù–Ü–ß–ù–Ü –ó–ê–•–í–û–†–Æ–í–ê–ù–ù–Ø - –≤–ø–ª–∏–≤ –Ω–∞ –∑–∞–≥–∞–ª—å–Ω–µ –∑–¥–æ—Ä–æ–≤\'—è',
                description: '–Ω–∞—è–≤–Ω—ñ—Å—Ç—å —Ö—Ä–æ–Ω—ñ—á–Ω–∏—Ö –∑–∞—Ö–≤–æ—Ä—é–≤–∞–Ω—å –≤–ø–ª–∏–≤–∞—î –Ω–∞ –≤—Å—ñ —Å–∏—Å—Ç–µ–º–∏ –æ—Ä–≥–∞–Ω—ñ–∑–º—É',
                type: 'medical',
                questions: [
                    { 
                        id: 'chr_1', 
                        text: '–ß–∏ —î —É –≤–∞—Å –¥—ñ–∞–≥–Ω–æ—Å—Ç–æ–≤–∞–Ω—ñ —Ö—Ä–æ–Ω—ñ—á–Ω—ñ –∑–∞—Ö–≤–æ—Ä—é–≤–∞–Ω–Ω—è?',
                        type: 'multiple_select',
                        options: [
                            { text: '–ü—Ä–æ—Å—Ç–∞—Ç–∏—Ç / –ø—Ä–æ–±–ª–µ–º–∏ –∑ –ø—Ä–æ—Å—Ç–∞—Ç–æ—é', value: 'prostatitis' },
                            { text: '–•—Ä–æ–Ω—ñ—á–Ω–∏–π —Ç–æ–Ω–∑–∏–ª—ñ—Ç / —á–∞—Å—Ç—ñ –∞–Ω–≥—ñ–Ω–∏', value: 'tonsillitis' },
                            { text: '–•—Ä–æ–Ω—ñ—á–Ω—ñ —É—Ç—Ä—É–¥–Ω–µ–Ω–Ω—è –¥–∏—Ö–∞–Ω–Ω—è / –∞—Å—Ç–º–∞', value: 'breathing' },
                            { text: '–ì—Ä–∏–∂—ñ, –ø—Ä–æ—Ç—Ä—É–∑—ñ—ó —Ö—Ä–µ–±—Ç–∞', value: 'spine' },
                            { text: '–ê—Ä—Ç—Ä–∏—Ç–∏, –∞—Ä—Ç—Ä–æ–∑–∏ —Å—É–≥–ª–æ–±—ñ–≤', value: 'joints' },
                            { text: '–ü–µ—á—ñ–Ω–∫–∞ (–≥–µ–ø–∞—Ç–æ–∑, –≥–µ–ø–∞—Ç–∏—Ç, —Å–∏–Ω–¥—Ä–æ–º –ñ—ñ–ª—å–±–µ—Ä–∞)', value: 'liver' },
                            { text: '–ù–∏—Ä–∫–∏ / —Å–µ—á–æ–≤–∏–¥—ñ–ª—å–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ (—Ü–∏—Å—Ç–∏—Ç, –ø—ñ—î–ª–æ–Ω–µ—Ñ—Ä–∏—Ç)', value: 'kidneys' },
                            { text: '–°–µ—Ä—Ü–µ–≤–æ-—Å—É–¥–∏–Ω–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ (–≥—ñ–ø–µ—Ä—Ç–æ–Ω—ñ—è, –∞—Ä–∏—Ç–º—ñ—è, —ñ—à–µ–º—ñ—è)', value: 'cardio' },
                            { text: '–ê—É—Ç–æ—ñ–º—É–Ω–Ω—ñ –∑–∞—Ö–≤–æ—Ä—é–≤–∞–Ω–Ω—è (—Ç–∏—Ä–µ–æ—ó–¥–∏—Ç, –ø—Å–æ—Ä—ñ–∞–∑)', value: 'autoimmune' },
                            { text: '–®–ö–¢ (—Ö—Ä–æ–Ω—ñ—á–Ω–∏–π –≥–∞—Å—Ç—Ä–∏—Ç, –∫–æ–ª—ñ—Ç, –•–µ–ª—ñ–∫–æ–±–∞–∫—Ç–µ—Ä)', value: 'git' },
                            { text: '–ù–µ–º–∞—î —Ö—Ä–æ–Ω—ñ—á–Ω–∏—Ö –∑–∞—Ö–≤–æ—Ä—é–≤–∞–Ω—å', value: 'none' }
                        ]
                    }
                ],
                recommendations: [
                    "–ü—Ä–∏ –ø—Ä–æ—Å—Ç–∞—Ç–∏—Ç—ñ: —Ç–∏–∫–≤–∞ –Ω–∞—Å—ñ–Ω–Ω—è, —Ü–∏–Ω–∫, –ª—ñ–∫–∞—Ä—Å—å–∫–∏–π –º–∞—Å–∞–∂ –ø—Ä–æ—Å—Ç–∞—Ç–∏",
                    "–ü—Ä–∏ —Ç–æ–Ω–∑–∏–ª—ñ—Ç—ñ: —ñ–º—É–Ω–æ–º–æ–¥—É–ª—è—Ç–æ—Ä–∏ –∫—É—Ä—Å–∞–º–∏, —Å–∞–Ω–∞—Ü—ñ—è –≤–æ–≥–Ω–∏—â —ñ–Ω—Ñ–µ–∫—Ü—ñ—ó",
                    "–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö –¥–∏—Ö–∞–Ω–Ω—è: –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—è –ø—É–ª—å–º–æ–Ω–æ–ª–æ–≥–∞, —Å–ø—ñ—Ä–æ–º–µ—Ç—Ä—ñ—è",
                    "–ü—Ä–∏ –≥—Ä–∏–∂–∞—Ö: –õ–§–ö –¥–ª—è —Ö—Ä–µ–±—Ç–∞, –ø–ª–∞–≤–∞–Ω–Ω—è, —É–Ω–∏–∫–∞–Ω–Ω—è –≤–∞–∂–∫–∏—Ö –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—å",
                    "–ü—Ä–∏ –∞—Ä—Ç—Ä–æ–∑–∞—Ö: —Ö–æ–Ω–¥—Ä–æ–ø—Ä–æ—Ç–µ–∫—Ç–æ—Ä–∏, –ø–æ–º—ñ—Ä–Ω–∞ –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å, –∫–æ–Ω—Ç—Ä–æ–ª—å –≤–∞–≥–∏"
                ]
            }
        };

        // –î–æ–¥–∞—Ç–∫–æ–≤—ñ –ø–∏—Ç–∞–Ω–Ω—è –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –±–ª–æ–∫—É
        const extraQuestions = {
            rectal_parasites: [
                { id: 'rec_extra_1', text: '–ß–∏ –±—É–≤–∞—î –±—ñ–ª—å —É –∑–∞–¥–Ω—å–æ–º—É –ø—Ä–æ—Ö–æ–¥—ñ –ø—Ä–∏ –ø—ñ–¥–π–æ–º—ñ –≤–∞–∂–∫–∏—Ö –ø—Ä–µ–¥–º–µ—Ç—ñ–≤?' },
                { id: 'rec_extra_2', text: '–ß–∏ —î —É –≤–∞—Å —Å–≤–µ—Ä–±—ñ–∂ —É –∑–∞–¥–Ω—å–æ–º—É –ø—Ä–æ—Ö–æ–¥—ñ, –æ—Å–æ–±–ª–∏–≤–æ –≤–≤–µ—á–µ—Ä—ñ –∞–±–æ –≤–Ω–æ—á—ñ?' },
                { id: 'rec_extra_3', text: '–ß–∏ –ø–æ–º—ñ—á–∞—î—Ç–µ –∫—Ä–æ–≤ –ø—ñ–¥ —á–∞—Å –ø–æ—Ö–æ–¥—É –≤ —Ç—É–∞–ª–µ—Ç?' },
                { id: 'rec_extra_4', text: '–ß–∏ —Å–∫–ª–∞–¥–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª—é–≤–∞—Ç–∏ –≥–∞–∑–∏ –∞–±–æ —Å—Ç—ñ–ª–µ—Ü—å?' },
                { id: 'rec_extra_5', text: '–ß–∏ –≤—ñ–¥—á—É–≤–∞—î—Ç–µ –ø–æ—Å—Ç—ñ–π–Ω–µ –≤—ñ–¥—á—É—Ç—Ç—è –Ω–µ–ø–æ–≤–Ω–æ–≥–æ —Å–ø–æ—Ä–æ–∂–Ω–µ–Ω–Ω—è?' }
            ]
        };

        // –ü—Ä–æ–¥–∞—é—â—ñ —Ç–µ–∫—Å—Ç–∏ –¥–ª—è –∫–æ–∂–Ω–æ—ó —Å–∏—Å—Ç–µ–º–∏
        const systemSellingTexts = {
            serotonin: {
                title: "üòå –°–µ—Ä–æ—Ç–æ–Ω—ñ–Ω - —Ç–≤–æ—î —â–∞—Å—Ç—è –ø—ñ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–µ–º",
                text: "–°–µ—Ä–æ—Ç–æ–Ω—ñ–Ω –¥–∞—î –Ω–∞–º –∑–≤–∏—á–∞–π–Ω–∏–π —Ä—ñ–≤–µ–Ω—å —Ä–∞–¥–æ—Å—Ç—ñ, –≤–ø–ª–∏–≤–∞—î –Ω–∞ –º–µ–Ω—Ç–∞–ª—å–Ω–µ —Å–∞–º–æ–ø–æ—á—É—Ç—Ç—è, —â–∞—Å—Ç—è —ñ –∑–∞–¥–æ–≤–æ–ª–µ–Ω–Ω—è –≤—ñ–¥ –∂–∏—Ç—Ç—è. –ù–µ –∫—Ä–∞–¥–∏ –≤ —Å–µ–±–µ —â–∞—Å—Ç—è! –ü—Ä–∏ –Ω–∏–∑—å–∫–æ–º—É —Å–µ—Ä–æ—Ç–æ–Ω—ñ–Ω—ñ —à–≤–∏–¥–∫–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –∞–∫—Ç –µ—è–∫—É–ª—è—Ü—ñ—ó –ø—ñ–¥ —á–∞—Å —Å–µ–∫—Å—É. –ü—ñ–¥–π–æ–º–æ–º —Å–µ—Ä–æ—Ç–æ–Ω—ñ–Ω—É –º–æ–∂–Ω–∞ –ø—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ —Ç—Ä–∏–≤–∞–ª—ñ—Å—Ç—å —Å—Ç–∞—Ç–µ–≤–æ–≥–æ –∞–∫—Ç—É.",
                practices: ["–ù–µ —á–∏—Ç–∞–π –ø–æ–≥–∞–Ω—ñ –Ω–æ–≤–∏–Ω–∏", "–ù–µ –¥–∏–≤–∏—Å—å UFC/–±–æ–∫—Å –Ω–∞–¥—Ç–æ —á–∞—Å—Ç–æ", "–ë—ñ–ª—å—à–µ —Å–æ–Ω—Ü—è —Ç–∞ –≤—ñ—Ç–∞–º—ñ–Ω—É D3", "–¢—Ä–∏–ø—Ç–æ—Ñ–∞–Ω –∑ —ó–∂—ñ"]
            },
            dopamine: {
                title: "üéØ –î–æ—Ñ–∞–º—ñ–Ω - —Ç–≤—ñ–π –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π –¥–≤–∏–≥—É–Ω",
                text: "–î–æ—Ñ–∞–º—ñ–Ω - —Ü–µ —Ç–µ, —â–æ –Ω–∞—Å –∑–∞–ø–∞–ª—é—î! –í—ñ–Ω –ø–æ–Ω–∏–∂–∞—î –ø—Ä–æ–ª–∞–∫—Ç–∏–Ω, –ø—ñ–¥–≤–∏—â—É—î —Å–µ–∫—Å—É–∞–ª—å–Ω–µ –±–∞–∂–∞–Ω–Ω—è. –£—Å–ø—ñ—Ö –≤ –∂–∏—Ç—Ç—ñ –Ω–∞–ø—Ä—è–º—É –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —Ä—ñ–≤–Ω—è –¥–æ—Ñ–∞–º—ñ–Ω—É. –¶–µ –º–æ—Ç–∏–≤–∞—Ü—ñ—è, –¥—Ä–∞–π–≤ —Ç–∞ –∑–¥–∞—Ç–Ω—ñ—Å—Ç—å –¥–æ—Å—è–≥–∞—Ç–∏ —Ü—ñ–ª–µ–π.",
                practices: ["–°—Ç–∞–≤–∏—Ç–∏ —Ç–∞ –¥–æ—Å—è–≥–∞—Ç–∏ –º–∞–ª–µ–Ω—å–∫—ñ —Ü—ñ–ª—ñ", "–ó–∞–π–º–∞—Ç–∏—Å—å —Å–ø–æ—Ä—Ç–æ–º", "–û–±–º–µ–∂–∏—Ç–∏ —à–≤–∏–¥–∫—ñ –∑–∞–¥–æ–≤–æ–ª–µ–Ω–Ω—è", "–ó–¥–æ—Ä–æ–≤–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü—ñ—è"]
            },
            digestive_system: {
                title: "üçΩÔ∏è –®–ö–¢ - —Ç–≤—ñ–π –¥—Ä—É–≥–∏–π –º–æ–∑–æ–∫",
                text: "80% —Å–µ—Ä–æ—Ç–æ–Ω—ñ–Ω—É –≤–∏—Ä–æ–±–ª—è—î—Ç—å—Å—è –≤ –∫–∏—à–µ—á–Ω–∏–∫—É! –®–ö–¢ - —Ü–µ –Ω–∞—à –¥—Ä—É–≥–∏–π –º–æ–∑–æ–∫, —è–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—é—î –Ω–∞—Å—Ç—Ä—ñ–π, —ñ–º—É–Ω—ñ—Ç–µ—Ç —Ç–∞ –∑–∞–≥–∞–ª—å–Ω–µ —Å–∞–º–æ–ø–æ—á—É—Ç—Ç—è.",
                practices: ["–ü—Ä–æ–±—ñ–æ—Ç–∏–∫–∏", "–ö–ª—ñ—Ç–∫–æ–≤–∏–Ω–∞ —â–æ–¥–Ω—è", "–í—ñ–¥–º–æ–≤–∞ –≤—ñ–¥ —Å–æ–ª–æ–¥–∫–æ–≥–æ", "–Ø–∫—ñ—Å–Ω–∞ –≤–æ–¥–∞"]
            },
            rectal_parasites: {
                title: "üßª –ó–∞–¥–Ω—ñ–π –ø—Ä–æ—Ö—ñ–¥ —Ç–∞ –ø–∞—Ä–∞–∑–∏—Ç–∏ - —ñ–Ω—Ç–∏–º–Ω–µ –∑–¥–æ—Ä–æ–≤'—è",
                text: "–ó–¥–æ—Ä–æ–≤'—è –∑–∞–¥–Ω—å–æ–≥–æ –ø—Ä–æ—Ö–æ–¥—É —Ç–∞ –≤—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –ø–∞—Ä–∞–∑–∏—Ç—ñ–≤ –∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤—ñ –¥–ª—è —è–∫–æ—Å—Ç—ñ –∂–∏—Ç—Ç—è. –ß–∞—Å—Ç–µ —Å–∏–¥—ñ–Ω–Ω—è –∑ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–º ‚Üí –∑–∞—Å—Ç—ñ–π –∫—Ä–æ–≤—ñ ‚Üí –≥–µ–º–æ—Ä–æ–π. –ü–∞—Ä–∞–∑–∏—Ç–∏ ‚Üí –ø–æ–≥–∞–Ω–µ –∑–∞—Å–≤–æ—î–Ω–Ω—è –ø–æ–∂–∏–≤–Ω–∏—Ö —Ä–µ—á–æ–≤–∏–Ω ‚Üí –≤–∏—Å–Ω–∞–∂–µ–Ω–Ω—è.",
                practices: ["–ë—ñ–¥–µ –∑–∞–º—ñ—Å—Ç—å —Ç—É–∞–ª–µ—Ç–Ω–æ–≥–æ –ø–∞–ø–µ—Ä—É", "–û–±–º–µ–∂–µ–Ω–Ω—è —á–∞—Å—É –≤ —Ç—É–∞–ª–µ—Ç—ñ", "–†–µ–≥—É–ª—è—Ä–Ω–∞ –¥–µ–≥–µ–ª—å–º—ñ–Ω—Ç–∏–∑–∞—Ü—ñ—è", "–ì—ñ–≥—ñ—î–Ω–∞ —Ä—É–∫ —Ç–∞ —Ç–µ–ª–µ—Ñ–æ–Ω—É"]
            }
        };

        // –î—ñ—î—Ç–∏
        const dietPlans = {
            muscleBuild: {
                title: 'üèãÔ∏è‚Äç‚ôÇÔ∏è –î—ñ—î—Ç–∞ –¥–ª—è –Ω–∞–±–æ—Ä—É –º\'—è–∑–æ–≤–æ—ó –º–∞—Å–∏',
                description: '–û–ø—Ç–∏–º–∞–ª—å–Ω–µ —Ö–∞—Ä—á—É–≤–∞–Ω–Ω—è –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–æ—Å—Ç—É –º\'—è–∑—ñ–≤',
                target: '–ú–æ–ª–æ–¥—ñ —á–æ–ª–æ–≤—ñ–∫–∏ –¥–æ 35 —Ä–æ–∫—ñ–≤, –∞–∫—Ç–∏–≤–Ω—ñ —Å–ø–æ—Ä—Ç—Å–º–µ–Ω–∏',
                tags: ['–ù–∞–±—ñ—Ä –º–∞—Å–∏', '–°–ø–æ—Ä—Ç', '–ß–æ–ª–æ–≤—ñ–∫–∏']
            },
            men35Plus: {
                title: 'üë®‚Äçü¶≥ –†–∞—Ü—ñ–æ–Ω –¥–ª—è —á–æ–ª–æ–≤—ñ–∫—ñ–≤ 35+',
                description: '–ó–±–∞–ª–∞–Ω—Å–æ–≤–∞–Ω–µ —Ö–∞—Ä—á—É–≤–∞–Ω–Ω—è –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ –∑–¥–æ—Ä–æ–≤\'—è —Ç–∞ —Ñ–æ—Ä–º–∏ –ø—ñ—Å–ª—è 35',
                target: '–ß–æ–ª–æ–≤—ñ–∫–∏ 35+ —Ä–æ–∫—ñ–≤, –æ—Ñ—ñ—Å–Ω—ñ –ø—Ä–∞—Ü—ñ–≤–Ω–∏–∫–∏, –ø–æ–º—ñ—Ä–Ω–∞ –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å',
                tags: ['35+', '–ó–¥–æ—Ä–æ–≤\'—è', '–ë–∞–ª–∞–Ω—Å']
            },
            cutting: {
                title: 'üî• –†–∞—Ü—ñ–æ–Ω –¥–ª—è "—Å—É—à–∫–∏" / —Ä–µ–∫–æ–º–ø–æ–∑–∏—Ü—ñ—ó —Ç—ñ–ª–∞',
                description: '–°–ø–∞–ª—é–≤–∞–Ω–Ω—è –∂–∏—Ä—É –ø—Ä–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—ñ –º\'—è–∑–æ–≤–æ—ó –º–∞—Å–∏',
                target: '–î–ª—è –∑–Ω–∏–∂–µ–Ω–Ω—è % –∂–∏—Ä—É, –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è —Ä–µ–ª—å—î—Ñ—É',
                tags: ['–°—Ö—É–¥–Ω–µ–Ω–Ω—è', '–†–µ–ª—å—î—Ñ', '–°—É—à–∫–∞']
            },
            womenDaily: {
                title: 'üë© –ñ—ñ–Ω–æ—á–∏–π —â–æ–¥–µ–Ω–Ω–∏–π —Ä–∞—Ü—ñ–æ–Ω',
                description: '–ó–±–∞–ª–∞–Ω—Å–æ–≤–∞–Ω–µ —Ö–∞—Ä—á—É–≤–∞–Ω–Ω—è –¥–ª—è –∂—ñ–Ω–æ–∫',
                target: '–ñ—ñ–Ω–∫–∏, –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ñ–æ—Ä–º–∏, –≥–æ—Ä–º–æ–Ω–∞–ª—å–Ω–∏–π –±–∞–ª–∞–Ω—Å',
                tags: ['–ñ—ñ–Ω–∫–∏', '–ë–∞–ª–∞–Ω—Å', '–ó–¥–æ—Ä–æ–≤\'—è']
            },
            womenGain: {
                title: 'üìà –ñ—ñ–Ω–æ—á–∞ –¥—ñ—î—Ç–∞ –¥–ª—è –Ω–∞–±–æ—Ä—É –≤–∞–≥–∏',
                description: '–ó–¥–æ—Ä–æ–≤–∏–π –Ω–∞–±—ñ—Ä –º–∞—Å–∏ –¥–ª—è –∂—ñ–Ω–æ–∫',
                target: '–ñ—ñ–Ω–∫–∏ –∑ –¥–µ—Ñ—ñ—Ü–∏—Ç–æ–º –≤–∞–≥–∏',
                tags: ['–ñ—ñ–Ω–∫–∏', '–ù–∞–±—ñ—Ä –≤–∞–≥–∏', '–ó–¥–æ—Ä–æ–≤\'—è']
            }
        };

        // –ö—É—Ä—Å–∏ —Ñ–∞—Ä–º–∞–∫–æ–ª–æ–≥—ñ—ó
        const pharmaCourses = {
            basic: {
                title: 'üíä –ë–∞–∑–æ–≤–∏–π –∫—É—Ä—Å –¥–æ–±–∞–≤–æ–∫',
                description: '–û—Å–Ω–æ–≤–Ω—ñ –≤—ñ—Ç–∞–º—ñ–Ω–∏ —Ç–∞ –º—ñ–Ω–µ—Ä–∞–ª–∏ –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ –∑–¥–æ—Ä–æ–≤\'—è',
                duration: '30 –¥–Ω—ñ–≤',
                supplements: [
                    '–ú—É–ª—å—Ç–∏–≤—ñ—Ç–∞–º—ñ–Ω–Ω–∏–π –∫–æ–º–ø–ª–µ–∫—Å',
                    '–û–º–µ–≥–∞-3 (EPA/DHA)',
                    '–í—ñ—Ç–∞–º—ñ–Ω D3 + K2',
                    '–ú–∞–≥–Ω—ñ–π –≥–ª–∏—Ü–∏–Ω–∞—Ç',
                    '–ü—Ä–æ–±—ñ–æ—Ç–∏–∫–∏'
                ],
                price: '899 –≥—Ä–Ω'
            },
            energy: {
                title: '‚ö° –ö—É—Ä—Å –¥–ª—è –µ–Ω–µ—Ä–≥—ñ—ó —Ç–∞ –º–æ—Ç–∏–≤–∞—Ü—ñ—ó',
                description: '–ü—ñ–¥–≤–∏—â–µ–Ω–Ω—è —Ä—ñ–≤–Ω—è –µ–Ω–µ—Ä–≥—ñ—ó —Ç–∞ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è –∫–æ–≥–Ω—ñ—Ç–∏–≤–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π',
                duration: '45 –¥–Ω—ñ–≤',
                supplements: [
                    '–ö–æ–µ–Ω–∑–∏–º Q10',
                    'L-—Ç–∏—Ä–æ–∑–∏–Ω',
                    '–†–æ–¥—ñ–æ–ª–∞ —Ä–æ–∂–µ–≤–∞',
                    '–ö–æ–º–ø–ª–µ–∫—Å B-–≤—ñ—Ç–∞–º—ñ–Ω—ñ–≤',
                    '–ê–ª—å—Ñ–∞-–ª—ñ–ø–æ—î–≤–∞ –∫–∏—Å–ª–æ—Ç–∞'
                ],
                price: '1299 –≥—Ä–Ω'
            },
            hormone: {
                title: 'üí™ –ì–æ—Ä–º–æ–Ω–∞–ª—å–Ω–∏–π –±–∞–ª–∞–Ω—Å',
                description: '–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –∑–¥–æ—Ä–æ–≤–æ—ó –≥–æ—Ä–º–æ–Ω–∞–ª—å–Ω–æ—ó —Å–∏—Å—Ç–µ–º–∏',
                duration: '60 –¥–Ω—ñ–≤',
                supplements: [
                    '–¶–∏–Ω–∫ —Ö–µ–ª–∞—Ç',
                    '–ê—à–≤–∞–≥–∞–Ω–¥–∞',
                    'DIM (–¥—ñ—ñ–Ω–¥–æ–ª—ñ–ª–º–µ—Ç–∞–Ω)',
                    '–ë–æ—Ä',
                    '–§–æ—Å—Ñ–∞—Ç–∏–¥–∏–ª—Å–µ—Ä–∏–Ω'
                ],
                price: '1599 –≥—Ä–Ω'
            },
            detox: {
                title: 'üßπ –î–µ—Ç–æ–∫—Å —Ç–∞ –æ—á–∏—â–µ–Ω–Ω—è',
                description: '–û—á–∏—â–µ–Ω–Ω—è –æ—Ä–≥–∞–Ω—ñ–∑–º—É —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ –ø–µ—á—ñ–Ω–∫–∏',
                duration: '30 –¥–Ω—ñ–≤',
                supplements: [
                    'NAC (N-–∞—Ü–µ—Ç–∏–ª—Ü–∏—Å—Ç–µ—ó–Ω)',
                    '–†–æ–∑—Ç–æ—Ä–æ–ø—à–∞',
                    '–ì–ª—É—Ç–∞—Ç—ñ–æ–Ω',
                    '–•–ª–æ—Ä–µ–ª–∞',
                    '–ê–∫—Ç–∏–≤–æ–≤–∞–Ω–µ –≤—É–≥—ñ–ª–ª—è'
                ],
                price: '1199 –≥—Ä–Ω'
            }
        };

        // –§—É–Ω–∫—Ü—ñ—ó –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó
        function goBack() {
            if (navigationHistory.length > 0) {
                const previousScreen = navigationHistory.pop();
                showScreen(previousScreen, false);
            } else {
                showScreen('menu-screen', false);
            }
        }

        function showScreen(screenId, addToHistory = true) {
            if (addToHistory && currentScreen !== 'menu') {
                navigationHistory.push(currentScreen + '-screen');
            }
            
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.add('hidden');
            });
            
            const targetScreen = document.getElementById(screenId);
            if (targetScreen) {
                targetScreen.classList.remove('hidden');
            }
            
            currentScreen = screenId.replace('-screen', '');
            
            // –ü–æ–∫–∞–∑–∞—Ç–∏/—Å—Ö–æ–≤–∞—Ç–∏ –∫–Ω–æ–ø–∫—É –Ω–∞–∑–∞–¥
            const backButton = document.getElementById('backButton');
            if (currentScreen === 'menu') {
                backButton.classList.add('hidden');
            } else {
                backButton.classList.remove('hidden');
            }
            
            setTimeout(() => scrollToTop(false), 100);
        }

        function scrollToTop(smooth = true) {
            if (smooth) {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            } else {
                window.scrollTo(0, 0);
            }
        }

        function handleMenuClick(menuId) {
            switch(menuId) {
                case 'test':
                    if (hasCompletedTest() && !canRetakeTest()) {
                        showRetakeWarning();
                    } else {
                        startTest();
                    }
                    break;
                case 'cabinet':
                    if (hasCompletedTest()) {
                        showMyCabinet();
                    } else {
                        alert('–°–ø–æ—á–∞—Ç–∫—É –ø—Ä–æ–π–¥—ñ—Ç—å —Ç–µ—Å—Ç –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ—Å–æ–±–∏—Å—Ç–æ–≥–æ –∫–∞–±—ñ–Ω–µ—Ç—É!');
                    }
                    break;
                case 'diet':
                    showDietSection();
                    break;
                case 'pharma':
                    showPharmaSection();
                    break;
                case 'consultation':
                    showConsultationSection();
                    break;
                case 'interpretation':
                    showInterpretationSection();
                    break;
                default:
                    showComingSoon(menuId);
            }
        }

        function startTest() {
            showScreen('profile-screen');
        }

        function startTestQuestions() {
            userProfile = {
                name: document.getElementById('userName').value,
                age: document.getElementById('userAge').value,
                gender: document.getElementById('userGender').value,
                bodyType: document.getElementById('userBodyType').value,
                height: document.getElementById('userHeight').value,
                weight: document.getElementById('userWeight').value
            };

            if (!userProfile.name || !userProfile.age || !userProfile.gender || 
                !userProfile.bodyType || !userProfile.height || !userProfile.weight) {
                alert('–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –ø–æ–ª—è!');
                return;
            }

            currentBlock = 0;
            answers = {};
            showScreen('test-screen');
            showTestBlock();
        }

        function getAvailableBlocks() {
            const blocks = [];
            
            Object.entries(healthBlocks).forEach(([key, block]) => {
                if (block.genderSpecific) {
                    if (block.genderSpecific === userProfile.gender) {
                        blocks.push([key, block]);
                    }
                } else {
                    blocks.push([key, block]);
                }
            });
            
            return blocks;
        }

        function showTestBlock() {
            const availableBlocks = getAvailableBlocks();
            
            if (currentBlock >= availableBlocks.length) {
                showResults();
                return;
            }

            const [blockKey, blockData] = availableBlocks[currentBlock];
            
            const isExtraQuestions = answers[`${blockKey}_needs_extra`];
            let currentQuestions;
            
            if (isExtraQuestions && extraQuestions[blockKey]) {
                currentQuestions = extraQuestions[blockKey];
            } else {
                currentQuestions = blockData.questions;
            }
            
            const progress = ((currentBlock + 1) / availableBlocks.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressText').textContent = `üìç –ü—Ä–æ–≥—Ä–µ—Å: ${currentBlock + 1}/${availableBlocks.length}`;
            
            const titleSuffix = isExtraQuestions ? ' (–î–µ—Ç–∞–ª—å–Ω–∏–π –∞–Ω–∞–ª—ñ–∑)' : '';
            document.getElementById('blockTitle').textContent = blockData.title + titleSuffix;
            document.getElementById('blockDescription').textContent = blockData.description;
            
            const filteredQuestions = currentQuestions.filter(q => 
                !q.genderSpecific || q.genderSpecific === userProfile.gender
            );
            
            const questionsContainer = document.getElementById('questionsContainer');
            questionsContainer.innerHTML = '';
            
            filteredQuestions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question-block';
                
                let optionsHTML = '';
                
                if (question.type === 'multiple_choice') {
                    optionsHTML = question.options.map(option => `
                        <button class="answer-button" onclick="selectAnswer('${question.id}', ${option.score})" 
                                data-question="${question.id}" data-value="${option.score}">
                            ${option.text}
                        </button>
                    `).join('');
                } else if (question.type === 'multiple_select') {
                    optionsHTML = question.options.map(option => `
                        <label class="checkbox-option">
                            <input type="checkbox" value="${option.value}" 
                                   onchange="handleMultipleSelect('${question.id}', '${option.value}', this.checked)">
                            <span>${option.text}</span>
                        </label>
                    `).join('');
                } else {
                    optionsHTML = `
                        <button class="answer-button" onclick="selectAnswer('${question.id}', 0)" 
                                data-question="${question.id}" data-value="0">–¢–∞–∫</button>
                        <button class="answer-button" onclick="selectAnswer('${question.id}', 1)" 
                                data-question="${question.id}" data-value="1">–Ü–Ω–∫–æ–ª–∏</button>
                        <button class="answer-button" onclick="selectAnswer('${question.id}', 2)" 
                                data-question="${question.id}" data-value="2">–ù—ñ</button>
                    `;
                }
                
                questionDiv.innerHTML = `
                    <div class="question-counter">–ü–∏—Ç–∞–Ω–Ω—è ${index + 1}/${filteredQuestions.length}</div>
                    <p class="question-text">${question.text}</p>
                    <div class="answer-options">${optionsHTML}</div>
                `;
                questionsContainer.appendChild(questionDiv);
            });
            
            const nextButton = document.getElementById('nextButton');
            nextButton.textContent = currentBlock === availableBlocks.length - 1 ? '–ó–∞–≤–µ—Ä—à–∏—Ç–∏ —Ç–µ—Å—Ç üéØ' : '–î–∞–ª—ñ ‚û°Ô∏è';
            nextButton.disabled = true;
            
            checkAllAnswered();
        }

        function selectAnswer(questionId, value) {
            answers[questionId] = value;
            
            const buttons = document.querySelectorAll(`[data-question="${questionId}"]`);
            buttons.forEach(btn => btn.classList.remove('selected'));
            
            const selectedButton = document.querySelector(`[data-question="${questionId}"][data-value="${value}"]`);
            if (selectedButton) {
                selectedButton.classList.add('selected');
            }
            
            checkAllAnswered();
        }

        function handleMultipleSelect(questionId, value, checked) {
            if (!answers[questionId]) {
                answers[questionId] = [];
            }
            
            if (value === 'none') {
                answers[questionId] = checked ? ['none'] : [];
                const otherCheckboxes = document.querySelectorAll(`input[type="checkbox"]:not([value="none"])`);
                otherCheckboxes.forEach(cb => cb.checked = false);
            } else {
                if (checked) {
                    answers[questionId] = answers[questionId].filter(v => v !== 'none').concat(value);
                } else {
                    answers[questionId] = answers[questionId].filter(v => v !== value);
                }
                const noneCheckbox = document.querySelector(`input[value="none"]`);
                if (noneCheckbox) noneCheckbox.checked = false;
            }
            
            checkAllAnswered();
        }

        function checkAllAnswered() {
            const availableBlocks = getAvailableBlocks();
            const [blockKey, blockData] = availableBlocks[currentBlock];
            
            const isExtraQuestions = answers[`${blockKey}_needs_extra`];
            let currentQuestions;
            
            if (isExtraQuestions && extraQuestions[blockKey]) {
                currentQuestions = extraQuestions[blockKey];
            } else {
                currentQuestions = blockData.questions;
            }
            
            const filteredQuestions = currentQuestions.filter(q => 
                !q.genderSpecific || q.genderSpecific === userProfile.gender
            );
            
            const allAnswered = filteredQuestions.every(q => {
                if (q.type === 'multiple_select') {
                    return answers[q.id] && answers[q.id].length > 0;
                }
                return answers[q.id] !== undefined;
            });
            
            document.getElementById('nextButton').disabled = !allAnswered;
        }

        function needsExtraQuestions(blockKey, currentScore) {
            if (blockKey === 'activity') {
                return currentScore <= 3;
            }
            
            const threshold = 5;
            return currentScore <= threshold;
        }

        function checkForAdditionalQuestions(blockKey) {
            const blockData = healthBlocks[blockKey];
            let currentScore = 0;
            
            blockData.questions.forEach(q => {
                if (answers[q.id] !== undefined) {
                    currentScore += answers[q.id];
                }
            });
            
            if (needsExtraQuestions(blockKey, currentScore) && extraQuestions[blockKey] && !answers[`${blockKey}_needs_extra`]) {
                answers[`${blockKey}_needs_extra`] = true;
                
                showProcessingMessage("–í–∏—è–≤–ª–µ–Ω–æ –º–æ–∂–ª–∏–≤–∏–π –¥–∏—Å–±–∞–ª–∞–Ω—Å. –ü–æ—Ç—Ä—ñ–±–µ–Ω –¥–µ—Ç–∞–ª—å–Ω—ñ—à–∏–π –∞–Ω–∞–ª—ñ–∑...", 2000);
                
                setTimeout(() => {
                    showTestBlock();
                }, 2500);
                
                return true;
            }
            
            return false;
        }

        function showProcessingMessage(message, duration = 2000) {
            return new Promise((resolve) => {
                scrollToTop();
                
                const overlay = document.createElement('div');
                overlay.className = 'processing-overlay';
                overlay.innerHTML = `
                    <div class="processing-card">
                        <div class="processing-spinner"></div>
                        <p class="processing-text">${message}</p>
                        <div class="processing-dots">
                            <span></span><span></span><span></span>
                        </div>
                    </div>
                `;
                
                document.body.appendChild(overlay);
                
                setTimeout(() => {
                    overlay.classList.add('visible');
                }, 100);
                
                setTimeout(() => {
                    overlay.classList.remove('visible');
                    setTimeout(() => {
                        if (overlay.parentNode) {
                            overlay.parentNode.removeChild(overlay);
                        }
                        resolve();
                    }, 300);
                }, duration);
            });
        }

        function showMultipleProcessingMessages(messages, baseDuration = 800) {
            return new Promise(async (resolve) => {
                for (let i = 0; i < messages.length; i++) {
                    const duration = baseDuration + Math.random() * 400;
                    await showProcessingMessage(messages[i], duration);
                    
                    if (i < messages.length - 1) {
                        await new Promise(r => setTimeout(r, 150));
                    }
                }
                resolve();
            });
        }

        async function nextBlockWithProcessing() {
            const availableBlocks = getAvailableBlocks();
            const [currentBlockKey, currentBlockData] = availableBlocks[currentBlock];
            
            scrollToTop();
            
            const needsExtra = checkForAdditionalQuestions(currentBlockKey);
            if (needsExtra) {
                return;
            }
            
            const processingMsgs = ['üß† –ê–Ω–∞–ª—ñ–∑—É—é –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ...', 'üìä –û–±—Ä–æ–±–ª—è—é –¥–∞–Ω—ñ...'];
            await showMultipleProcessingMessages(processingMsgs);
            
            currentBlock++;
            
            if (currentBlock >= availableBlocks.length) {
                const finalMessages = ['üìä –ó–∞–≤–µ—Ä—à—É—é –∞–Ω–∞–ª—ñ–∑...', 'üéØ –§–æ—Ä–º—É—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏...'];
                await showMultipleProcessingMessages(finalMessages, 1000);
                showResults();
            } else {
                showTestBlock();
                setTimeout(() => scrollToTop(), 300);
            }
        }

        function showResults() {
            showScreen('results-screen');
            scrollToTop(false);
            calculateAndDisplayResults();
        }

        function calculateAndDisplayResults() {
            const results = {};
            const availableBlocks = getAvailableBlocks();
            
            availableBlocks.forEach(([key, data]) => {
                let score = 0;
                let maxScore = 0;
                
                const isExtraQuestions = answers[`${key}_needs_extra`];
                let allQuestions = data.questions;
                
                if (isExtraQuestions && extraQuestions[key]) {
                    allQuestions = [...data.questions, ...extraQuestions[key]];
                }
                
                const filteredQuestions = allQuestions.filter(q => 
                    !q.genderSpecific || q.genderSpecific === userProfile.gender
                );
                
                filteredQuestions.forEach(q => {
                    if (q.type === 'multiple_select') {
                        maxScore += 2;
                        const selectedValues = answers[q.id] || [];
                        score += (selectedValues.length === 0 || selectedValues.includes('none')) ? 2 : 0;
                    } else {
                        maxScore += 2;
                        score += answers[q.id] || 0;
                    }
                });
                
                const percentage = Math.round((score / maxScore) * 100);
                
                results[key] = {
                    score,
                    maxScore,
                    percentage: Math.min(percentage, 85),
                    ...data
                };
            });

            const bmi = userProfile.weight && userProfile.height 
                ? (userProfile.weight / Math.pow(userProfile.height / 100, 2)).toFixed(1)
                : null;

            const userInfoHTML = `
                <h3>üë§ ${userProfile.name}</h3>
                <p>–í—ñ–∫: ${userProfile.age} | –°—Ç–∞—Ç—å: ${userProfile.gender === 'male' ? '–ß–æ–ª–æ–≤—ñ–∫' : '–ñ—ñ–Ω–∫–∞'}</p>
                ${bmi ? `<p>–Ü–ú–¢: ${bmi} (${getBMICategory(bmi)})</p>` : ''}
            `;
            document.getElementById('userInfoResults').innerHTML = userInfoHTML;

            let allResultsHTML = '<h3>üìä –î–µ—Ç–∞–ª—å–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏:</h3>';
            
            Object.entries(results).forEach(([key, result]) => {
                const status = getStatusColor(result.percentage);
                allResultsHTML += `
                    <div class="result-item">
                        <div class="result-header">
                            <span class="result-name">${result.emoji} ${result.name}</span>
                            <span class="result-percentage ${status}">${Math.round(result.percentage)}%</span>
                        </div>
                        <div class="score-bar-small">
                            <div class="score-fill ${status}" style="width: ${result.percentage}%"></div>
                        </div>
                        ${result.percentage < 75 ? `
                        <div class="selling-text">
                            ${getSystemSellingText(key) ? `
                                <h5>${getSystemSellingText(key).title}</h5>
                                <p>${getSystemSellingText(key).text}</p>
                                <div class="basic-practices">
                                    <strong>üìã –ë–∞–∑–æ–≤—ñ –ø—Ä–∞–∫—Ç–∏–∫–∏:</strong>
                                    <ul>
                                        ${getSystemSellingText(key).practices.map(practice => `<li>${practice}</li>`).join('')}
                                    </ul>
                                </div>
                            ` : ''}
                            <div class="upgrade-cta">
                                <p><strong>üíé –°–ø–∏—Å–æ–∫ –∞–Ω–∞–ª—ñ–∑—ñ–≤ —ñ —Å—Ç–µ–∫–∏ –¥–æ–±–∞–≤–æ–∫, –ø—ñ–¥—ñ–±—Ä–∞–Ω—ñ –¥–ª—è –≤–∞—Å –Ω–∞ –æ—Å–Ω–æ–≤—ñ –ê–Ü –∞–≥–µ–Ω—Ç–∞, —á–µ–∫–∞—é—Ç—å –≤ —Ä–æ–∑—à–∏—Ä–µ–Ω—ñ–π –≤–µ—Ä—Å—ñ—ó</strong></p>
                                <button onclick="showUpgradeOffer()" class="details-btn upgrade-cta-btn">
                                    –î–µ—Ç–∞–ª—å–Ω—ñ—à–µ –ø—Ä–æ ${result.name}
                                </button>
                            </div>
                        </div>
                        ` : ''}
                    </div>
                `;
            });

            document.getElementById('allResults').innerHTML = allResultsHTML;
            
            // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏
            saveTestResults(userProfile, answers, results, []);
        }

        function getBMICategory(bmi) {
            if (bmi < 18.5) return '–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—è –≤–∞–≥–∞';
            if (bmi < 25) return '–ù–æ—Ä–º–∞–ª—å–Ω–∞ –≤–∞–≥–∞';
            if (bmi < 30) return '–ù–∞–¥–º—ñ—Ä–Ω–∞ –≤–∞–≥–∞';
            return '–û–∂–∏—Ä—ñ–Ω–Ω—è';
        }

        function getStatusColor(percentage) {
            if (percentage >= 75) return 'good';
            if (percentage >= 50) return 'warning';
            return 'danger';
        }

        function getSystemSellingText(systemKey) {
            return systemSellingTexts[systemKey] || null;
        }

        // –ö–ª–∞—Å –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
        class TestResults {
            constructor(userProfile, answers, results, warnings) {
                this.id = Date.now().toString();
                this.completionDate = new Date().toISOString();
                this.userProfile = { ...userProfile };
                this.answers = { ...answers };
                this.results = { ...results };
                this.warnings = warnings || [];
            }
        }

        function saveTestResults(userProfile, answers, results, warnings) {
            userTestResults = new TestResults(userProfile, answers, results, warnings);
            testCompletionDate = new Date();
            return userTestResults;
        }

        function hasCompletedTest() {
            return userTestResults !== null;
        }

        function canRetakeTest() {
            if (!testCompletionDate) return true;
            const daysSinceTest = (Date.now() - testCompletionDate.getTime()) / (1000 * 60 * 60 * 24);
            return daysSinceTest >= 30;
        }

        function showRetakeWarning() {
            alert('–í–∏ –≤–∂–µ –ø—Ä–æ—Ö–æ–¥–∏–ª–∏ —Ç–µ—Å—Ç –º–µ–Ω—à–µ –º—ñ—Å—è—Ü—è —Ç–æ–º—É. –ù–∞—Å—Ç—É–ø–Ω–∏–π —Ç–µ—Å—Ç –º–æ–∂–Ω–∞ –±—É–¥–µ –ø—Ä–æ–π—Ç–∏ –ø—ñ–∑–Ω—ñ—à–µ –¥–ª—è –±—ñ–ª—å—à —Ç–æ—á–Ω–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤.');
        }

        function showMyCabinet() {
            if (!hasCompletedTest()) {
                alert('–°–ø–æ—á–∞—Ç–∫—É –ø—Ä–æ–π–¥—ñ—Ç—å —Ç–µ—Å—Ç –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ—Å–æ–±–∏—Å—Ç–æ–≥–æ –∫–∞–±—ñ–Ω–µ—Ç—É!');
                return;
            }
            
            const cabinetHTML = `
                <div class="cabinet-container">
                    <h2>üë§ –ú—ñ–π –∫–∞–±—ñ–Ω–µ—Ç</h2>
                    <p>–¢–µ—Å—Ç –ø—Ä–æ–π–¥–µ–Ω–æ: ${formatDate(userTestResults.completionDate)}</p>
                    <p>–í–∞—à—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –∑–±–µ—Ä–µ–∂–µ–Ω—ñ —Ç–∞ –¥–æ—Å—Ç—É–ø–Ω—ñ –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É.</p>
                    <button onclick="showUpgradeOffer()" class="continue-button">
                        üíé –û—Ç—Ä–∏–º–∞—Ç–∏ –¥–µ—Ç–∞–ª—å–Ω–∏–π –∞–Ω–∞–ª—ñ–∑
                    </button>
                    <button onclick="backToMenu()" class="back-to-menu">
                        üè† –ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ –º–µ–Ω—é
                    </button>
                </div>
            `;
            
            showCustomScreen(cabinetHTML);
        }

        function formatDate(isoString) {
            const date = new Date(isoString);
            return date.toLocaleDateString('uk-UA');
        }

        function showDietSection() {
            const dietHTML = `
                <div class="diet-section">
                    <h2>ü•ó –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ñ –¥—ñ—î—Ç–∏</h2>
                    
                    <div class="diet-menu">
                        <h3>üìã –î–æ—Å—Ç—É–ø–Ω—ñ –¥—ñ—î—Ç–∏:</h3>
                        
                        ${Object.entries(dietPlans).map(([key, diet]) => `
                            <div class="diet-card" onclick="showDietDetails('${key}')">
                                <h4>${diet.title}</h4>
                                <p>${diet.description}</p>
                                <small>–î–ª—è: ${diet.target}</small>
                                <div class="diet-tags">
                                    ${diet.tags.map(tag => `<span class="diet-tag">${tag}</span>`).join('')}
                                </div>
                            </div>
                        `).join('')}
                    </div>
                    
                    <div class="upgrade-cta">
                        <p>üíé –î–µ—Ç–∞–ª—å–Ω—ñ –ø–ª–∞–Ω–∏ —Ö–∞—Ä—á—É–≤–∞–Ω–Ω—è –∑ —Ä–µ—Ü–µ–ø—Ç–∞–º–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ –≤ —Ä–æ–∑—à–∏—Ä–µ–Ω—ñ–π –≤–µ—Ä—Å—ñ—ó</p>
                        <button onclick="showUpgradeOffer()" class="upgrade-cta-btn">
                            –û—Ç—Ä–∏–º–∞—Ç–∏ –ø–æ–≤–Ω—ñ –ø–ª–∞–Ω–∏ –¥—ñ—î—Ç
                        </button>
                    </div>
                    
                    <button onclick="backToMenu()" class="back-to-menu">
                        üè† –ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ –º–µ–Ω—é
                    </button>
                </div>
            `;
            
            showCustomScreen(dietHTML);
        }

        function showDietDetails(dietKey) {
            const diet = dietPlans[dietKey];
            if (!diet) return;
            
            alert(`–î–µ—Ç–∞–ª—å–Ω–∏–π –ø–ª–∞–Ω –¥—ñ—î—Ç–∏ "${diet.title}" –¥–æ—Å—Ç—É–ø–Ω–∏–π –≤ —Ä–æ–∑—à–∏—Ä–µ–Ω—ñ–π –≤–µ—Ä—Å—ñ—ó.`);
        }

        function showPharmaSection() {
            const pharmaHTML = `
                <div class="pharma-section">
                    <h2>üíäüíâ –§–∞—Ä–º–∞–∫–æ–ª–æ–≥—ñ—è —Ç–∞ –¥–æ–±–∞–≤–∫–∏</h2>
                    
                    <div class="course-grid">
                        ${Object.entries(pharmaCourses).map(([key, course]) => `
                            <div class="course-card">
                                <h4>${course.title}</h4>
                                <p>${course.description}</p>
                                <ul>
                                    ${course.supplements.map(supp => `<li>${supp}</li>`).join('')}
                                </ul>
                                <p><strong>–¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å:</strong> ${course.duration}</p>
                                <div class="course-price">${course.price}</div>
                                <button onclick="orderCourse('${key}')" class="continue-button">
                                    –ó–∞–º–æ–≤–∏—Ç–∏ –∫—É—Ä—Å
                                </button>
                            </div>
                        `).join('')}
                    </div>
                    
                    <button onclick="backToMenu()" class="back-to-menu">
                        üè† –ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ –º–µ–Ω—é
                    </button>
                </div>
            `;
            
            showCustomScreen(pharmaHTML);
        }

        function orderCourse(courseKey) {
            const course = pharmaCourses[courseKey];
            const message = `–•–æ—á—É –∑–∞–º–æ–≤–∏—Ç–∏ –∫—É—Ä—Å: ${course.title}\n–¶—ñ–Ω–∞: ${course.price}`;
            window.open(`https://t.me/vladyslav_kravchukk?text=${encodeURIComponent(message)}`, '_blank');
        }

        function showConsultationSection() {
            const consultationHTML = `
                <div class="consultation-section">
                    <h2>üë®‚Äç‚öïÔ∏è –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—è —Å–ø–µ—Ü—ñ–∞–ª—ñ—Å—Ç–∞</h2>
                    
                    <div class="specialist-card">
                        <h3>–í–ª–∞–¥–∏—Å–ª–∞–≤ –ö—Ä–∞–≤—á—É–∫</h3>
                        <p>–°–ø–µ—Ü—ñ–∞–ª—ñ—Å—Ç –∑ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—ó –º–µ–¥–∏—Ü–∏–Ω–∏</p>
                        
                        <div class="consultation-types">
                            <div class="course-card">
                                <h4>üìû –ë–∞–∑–æ–≤–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—è</h4>
                                <ul>
                                    <li>–ê–Ω–∞–ª—ñ–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ —Ç–µ—Å—Ç—É</li>
                                    <li>–Ü–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó</li>
                                    <li>–ü–ª–∞–Ω –æ–±—Å—Ç–µ–∂–µ–Ω—å</li>
                                    <li>–¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å: 45 —Ö–≤–∏–ª–∏–Ω</li>
                                </ul>
                                <div class="course-price">799 –≥—Ä–Ω</div>
                            </div>
                            
                            <div class="course-card">
                                <h4>üíé –†–æ–∑—à–∏—Ä–µ–Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—è</h4>
                                <ul>
                                    <li>–î–µ—Ç–∞–ª—å–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ –≤—Å—ñ—Ö —Å–∏—Å—Ç–µ–º</li>
                                    <li>–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∏–π –ø–ª–∞–Ω –Ω–∞ 3 –º—ñ—Å—è—Ü—ñ</li>
                                    <li>–ü—ñ–¥–±—ñ—Ä –¥–æ–±–∞–≤–æ–∫ –∑ —Å—Ö–µ–º–∞–º–∏</li>
                                    <li>–°—É–ø—Ä–æ–≤—ñ–¥ –ø—Ä–æ—Ç—è–≥–æ–º –º—ñ—Å—è—Ü—è</li>
                                    <li>–¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å: 90 —Ö–≤–∏–ª–∏–Ω</li>
                                </ul>
                                <div class="course-price">1299 –≥—Ä–Ω</div>
                            </div>
                        </div>
                        
                        <a href="https://t.me/vladyslav_kravchukk" target="_blank" class="continue-button">
                            üì± –ù–∞–ø–∏—Å–∞—Ç–∏ –≤ Telegram
                        </a>
                    </div>
                    
                    <button onclick="backToMenu()" class="back-to-menu">
                        üè† –ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ –º–µ–Ω—é
                    </button>
                </div>
            `;
            
            showCustomScreen(consultationHTML);
        }

        function showInterpretationSection() {
            const interpretationHTML = `
                <div class="interpretation-section">
                    <h2>üìä –Ü–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü—ñ—è –∞–Ω–∞–ª—ñ–∑—ñ–≤</h2>
                    
                    <div class="course-card">
                        <h4>üî¨ –ê–Ω–∞–ª—ñ–∑ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∏—Ö –ø–æ–∫–∞–∑–Ω–∏–∫—ñ–≤</h4>
                        <p>–ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∞ —ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü—ñ—è –≤–∞—à–∏—Ö –∞–Ω–∞–ª—ñ–∑—ñ–≤ –∫—Ä–æ–≤—ñ, –≥–æ—Ä–º–æ–Ω—ñ–≤ —Ç–∞ —ñ–Ω—à–∏—Ö –±—ñ–æ–º–∞—Ä–∫–µ—Ä—ñ–≤</p>
                        <ul>
                            <li>–ó–∞–≥–∞–ª—å–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ –∫—Ä–æ–≤—ñ</li>
                            <li>–ë—ñ–æ—Ö—ñ–º—ñ—á–Ω–∏–π –∞–Ω–∞–ª—ñ–∑</li>
                            <li>–ì–æ—Ä–º–æ–Ω–∞–ª—å–Ω–∞ –ø–∞–Ω–µ–ª—å</li>
                            <li>–í—ñ—Ç–∞–º—ñ–Ω–∏ —Ç–∞ –º—ñ–Ω–µ—Ä–∞–ª–∏</li>
                            <li>–ú–∞—Ä–∫–µ—Ä–∏ –∑–∞–ø–∞–ª–µ–Ω–Ω—è</li>
                        </ul>
                        <div class="course-price">599 –≥—Ä–Ω</div>
                        <p><small>–ù–∞–¥—ñ—à–ª—ñ—Ç—å —Ñ–æ—Ç–æ –≤–∞—à–∏—Ö –∞–Ω–∞–ª—ñ–∑—ñ–≤, –æ—Ç—Ä–∏–º–∞–π—Ç–µ –¥–µ—Ç–∞–ª—å–Ω—É —ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü—ñ—é –ø—Ä–æ—Ç—è–≥–æ–º 24 –≥–æ–¥–∏–Ω</small></p>
                    </div>
                    
                    <a href="https://t.me/vladyslav_kravchukk?text=–•–æ—á—É –∑–∞–º–æ–≤–∏—Ç–∏ —ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü—ñ—é –∞–Ω–∞–ª—ñ–∑—ñ–≤" 
                       target="_blank" class="continue-button">
                        üì± –ó–∞–º–æ–≤–∏—Ç–∏ —ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü—ñ—é
                    </a>
                    
                    <button onclick="backToMenu()" class="back-to-menu">
                        üè† –ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ –º–µ–Ω—é
                    </button>
                </div>
            `;
            
            showCustomScreen(interpretationHTML);
        }

        function showUpgradeOffer() {
            const upgradeHTML = `
                <div class="upgrade-offer">
                    <h2>üöÄ –†–æ–∑—à–∏—Ä–µ–Ω–∞ –≤–µ—Ä—Å—ñ—è PantelMed AI</h2>
                    
                    <div class="course-card">
                        <h4>üíé –ü–æ–≤–Ω–∏–π –ø–∞–∫–µ—Ç</h4>
                        <ul>
                            <li>–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ñ —Å—Ç–µ–∫–∏ –¥–æ–±–∞–≤–æ–∫</li>
                            <li>–î–µ—Ç–∞–ª—å–Ω—ñ —Å—Ö–µ–º–∏ –ø—Ä–∏–π–æ–º—É</li>
                            <li>–í–∏–ª–∫–∏ –≤–∑–∞—î–º–æ–¥—ñ—ó —Å–∏—Å—Ç–µ–º</li>
                            <li>–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—è —Å–ø–µ—Ü—ñ–∞–ª—ñ—Å—Ç–∞</li>
                            <li>–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–≥—Ä–µ—Å—É</li>
                        </ul>
                        <div class="course-price">1299 –≥—Ä–Ω</div>
                    </div>
                    
                    <a href="https://t.me/vladyslav_kravchukk?text=–•–æ—á—É –∑–∞–º–æ–≤–∏—Ç–∏ —Ä–æ–∑—à–∏—Ä–µ–Ω—É –≤–µ—Ä—Å—ñ—é PantelMed AI" 
                       target="_blank" class="continue-button">
                        üí≥ –ó–∞–º–æ–≤–∏—Ç–∏ —Ä–æ–∑—à–∏—Ä–µ–Ω—É –≤–µ—Ä—Å—ñ—é
                    </a>
                    
                    <button onclick="backToMenu()" class="continue-button secondary">
                        ‚Üê –ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ—ó –≤–µ—Ä—Å—ñ—ó
                    </button>
                </div>
            `;
            
            showCustomScreen(upgradeHTML);
        }

        function showCustomScreen(htmlContent) {
            let customScreen = document.getElementById('custom-screen');
            if (!customScreen) {
                customScreen = document.createElement('div');
                customScreen.id = 'custom-screen';
                customScreen.className = 'screen hidden';
                document.querySelector('.app').appendChild(customScreen);
            }
            
            customScreen.innerHTML = htmlContent;
            showScreen('custom-screen');
        }

        function showComingSoon(featureName) {
            const comingSoonHTML = `
                <div class="coming-soon-section">
                    <h2>üöß ${featureName}</h2>
                    <div class="coming-soon-content">
                        <div class="construction-icon">‚öôÔ∏è</div>
                        <h3>–†–æ–∑–¥—ñ–ª –≤ —Ä–æ–∑—Ä–æ–±—Ü—ñ</h3>
                        <p>–ú–∏ –ø—Ä–∞—Ü—é—î–º–æ –Ω–∞–¥ —Ü—ñ—î—é —Ñ—É–Ω–∫—Ü—ñ—î—é. –ù–µ–∑–∞–±–∞—Ä–æ–º –≤–æ–Ω–∞ –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∞!</p>
                        
                        <a href="https://t.me/vladyslav_kravchukk" target="_blank" class="continue-button">
                            üîî –ü—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—è –Ω–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
                        </a>
                    </div>
                    
                    <button onclick="backToMenu()" class="back-to-menu">
                        üè† –ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ –º–µ–Ω—é
                    </button>
                </div>
            `;
            
            showCustomScreen(comingSoonHTML);
        }

        function backToMenu() {
            showScreen('menu-screen', false);
            currentBlock = 0;
            answers = {};
        }

        // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ
        document.addEventListener('DOMContentLoaded', function() {
            showScreen('menu-screen', false);
            
            if (tg && tg.initDataUnsafe?.user?.first_name) {
                document.getElementById('userName').value = tg.initDataUnsafe.user.first_name;
            }
        });

        // –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ñ–æ—Ä–º–∏ –ø—Ä–æ—Ñ—ñ–ª—é
        document.addEventListener('input', function(e) {
            if (e.target.closest('#profile-screen')) {
                const name = document.getElementById('userName').value;
                const age = document.getElementById('userAge').value;
                const gender = document.getElementById('userGender').value;
                const bodyType = document.getElementById('userBodyType').value;
                const height = document.getElementById('userHeight').value;
                const weight = document.getElementById('userWeight').value;
                
                const allFilled = name && age && gender && bodyType && height && weight;
                document.querySelector('#profile-screen .continue-button').disabled = !allFilled;
            }
        });
    </script>
</body>
</html>
